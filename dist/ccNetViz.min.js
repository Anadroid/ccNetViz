var da="function"==typeof Object.defineProperties?Object.defineProperty:function(w,v,h){if(h.get||h.set)throw new TypeError("ES3 does not support getters and setters.");w!=Array.prototype&&w!=Object.prototype&&(w[v]=h.value)},ea="undefined"!=typeof window&&window===this?this:"undefined"!=typeof global?global:this;
function fa(w,v){if(v){for(var h=ea,g=w.split("."),a=0;a<g.length-1;a++){var e=g[a];e in h||(h[e]={});h=h[e]}g=g[g.length-1];a=h[g];e=v(a);e!=a&&null!=e&&da(h,g,{configurable:!0,writable:!0,value:e})}}fa("Array.prototype.find",function(w){return w?w:function(v,h){var g;a:{g=this;g instanceof String&&(g=String(g));for(var a=g.length,e=0;e<a;e++){var c=g[e];if(v.call(h,c,e,g)){g=c;break a}}g=void 0}return g}});fa("Number.EPSILON",function(){return Math.pow(2,-52)});
(function(w){function v(g){if(h[g])return h[g].f;var a=h[g]={f:{},id:g,loaded:!1};w[g].call(a.f,a,a.f,v);a.loaded=!0;return a.f}var h={};v.$c=w;v.Pc=h;v.p="";return v(0)})([function(w,v,h){function g(e,c){var b=new a(e,c),k,q=[],r={},g,m;e.addEventListener("contextmenu",g=function(a){0<q.length&&(r=q.pop(),b.set(r.a,r.i),b.F());a.preventDefault()});e.addEventListener("click",m=function(a){var f=e.getBoundingClientRect();a=b.mc({La:5,x:a.clientX-f.left,y:a.clientY-f.top});a=b.find(a.x,a.y,a.La,!0,
!1);if(0<a.a.length){var d=a.a[0].node;a=d.rc||k;d.Wb?a=void 0:d.Wb=!0;d.a&&d.i&&(f=d.a,d=d.i,q.push(r),r={a:f,i:d},b.set(r.a,r.i,a),b.F())}});this.remove=function(){e.removeEventListener("contextmenu",g);e.removeEventListener("click",m);b.remove()};this.set=function(a,f,c){r={a:a,i:f};q=[];k=c;b.set.apply(b,arguments)};var h=this;"find findArea getLayerCoords draw resetView setViewport update resetView".split(" ").forEach(function(a){(function(a,d){d[a]=function(){return b[a].apply(b,arguments)}})(a,
h)})}var a=h(1);window.Rc=g;w.f=g},function(w,v,h){function g(f,d){function A(a,f){if(!B()){var b=l.ca[a].apply(l.ca,f);if(!l.w)return b;var d=l.w[a].apply(l.w,f),c={},p;for(p in b)c[p]=e(b[p],d[p],function(a,b){return a.N-b.N});return c}}function x(a){return g(a,Z(),.4)}function g(a,b,f){b=f*Math.sqrt(a.width*a.height/b)/y.size;if(a=a.style)b=a.ka?Math.min(a.ka,b):b,b=b<a.Xc?0:a.da?Math.max(a.da,b):b;return b}function B(){return z?(console.error("Cannot call any function on graph after remove()"),
!0):!1}function C(){l.w||(l.w=new c(f,F,y,H,G,S,L,d,p,n,g,x,Z,ca,M,N))}function h(){X||(X=new D(l,C,Y,U,V,a));return X}function v(){var a=!1;if(T)for(var b in y)T[b]!==y[b]&&(a=!0);q.extend(T,y);a&&d.yc&&d.yc(y)}var w=this,R=this,K=d.m.background=d.m.background||{},K=new k(K.color||"rgb(255, 255, 255)"),z=!1,u=!1,p=d.m.node=d.m.node||{};p.da=null!=p.da?p.da:6;p.ka=p.ka||16;p.color=p.color||"rgb(255, 255, 255)";if(p.label){var t=p.label;t.color=t.color||"rgb(120, 120, 120)";t.font=t.font||"11px Arial, Helvetica, sans-serif"}var n=
d.m.$a=d.m.$a||{};n.width=n.width||1;n.color=n.color||"rgb(204, 204, 204)";var N=d.fb||function(){!z&&u&&w.F()};n.ba&&(t=n.ba,t.da=null!=t.da?t.da:6,t.ka=t.ka||12,t.S=1);var L=new m,l={},y=void 0,H=void 0,Y=void 0,F={};this.Ua=function(){var a=0,b;for(b in l)a+=l[b].Ua();return a};var Z=d.Vc||this.Ua;this.Ta=function(){var a=0,b;for(b in l)a+=l[b].Ta();return a};var ca=d.Uc||this.Ta,M=L.Bb(function(){R.F.call(R);return!1},5),U=void 0,V=void 0,X=void 0;this.set=function(b,f,d){if(B())return w;U=b||
[];V=f||[];U.forEach(a);V.forEach(a);l.w&&l.w.set([],[],d);l.ca.set(U,V,d);X=void 0;u=!0;return w};this.removeNode=function(a){if(B())return w;h().removeNode(a);return w};this.Rb=function(a){B()||h().Rb(a)};this.ub=function(a){B()||h().ub(a)};this.vb=function(a){B()||h().vb(a)};this.Vb=function(a){if(B())return w;w.removeNode(a);w.vb(a);return w};this.Ub=function(a){if(B())return w;w.Rb(a);w.ub(a);return w};this.jc=function(){B()||h().jc()};var aa=.5*p.ka;this.F=function(){if(!B()){var a=f.width,
d=f.height,c=a/d,n=1===y.size?aa:0,u=n/a,n=n/d;F.transform=b.bd(y.x-u,y.x+y.size+u,y.y-n,y.y+y.size+n,-1,1);F.offsetX=u;F.offsetY=n;F.width=.5*a;F.height=.5*d;F.D=c*c;F.S=c;F.count=Z();F.style&&delete F.style;F.M=g(F,ca(),.5);F.style=p;F.O=x(F);H.viewport(0,0,a,d);H.clear(H.COLOR_BUFFER_BIT);for(a=0;a<l.ca.gb.elements.length;a++)l.ca.gb.elements[a].F(F),l.w&&l.w.gb.elements[a].F(F)}};Y=this.F.bind(this);this.mc=function(a){if(!B()){var b={};["x","x1","x2"].forEach(function(d){if(void 0!==a[d]){var c=
a[d],c=c/f.width*(y.size+2*F.offsetX)-F.offsetX+y.x;b[d]=c}});["y","y1","y2"].forEach(function(d){if(void 0!==a[d]){var c=a[d],c=(1-c/f.height)*(y.size+2*F.offsetY)-F.offsetY+y.y;b[d]=c}});if(void 0!==a.La){var d=a.La,d=Math.max(d/f.height,d/f.width)*y.size;b.La=d}return b}};this.find=function(){return A("find",arguments)};this.Cb=function(){return A("findArea",arguments)};var ba=void 0,W=void 0;f.addEventListener("mousedown",ba=function(a){function b(a){if(q)z?l.Za&&l.Za(a):(y.x=Math.max(0,Math.min(1-
y.size,k-a.clientX/p)),y.y=Math.max(0,Math.min(1-y.size,a.clientY/n-e)),v(),c.F());else{var b=a.clientX-u,d=a.clientY-t;8<b*b+d*d&&(q=!0,(z=l&&l.start({clientX:u,clientY:t}))&&l.Za&&l.Za(a))}a.preventDefault()}var c=this,p=f.width/y.size,n=f.height/y.size,u=a.clientX,t=a.clientY,k=y.x+u/p,e=t/n-y.y,l=d.ad,q=void 0,z=void 0;window.addEventListener("mouseup",function ha(a){z&&l.stop&&l.stop(a);!q&&d.zc&&d.zc(a);window.removeEventListener("mouseup",ha);window.removeEventListener("mousemove",b)});window.addEventListener("mousemove",
b)}.bind(this));f.addEventListener("wheel",W=function(a){var b=f.getBoundingClientRect(),c=Math.min(1,y.size*(1+.001*(a.deltaMode?33:1)*a.deltaY)),p=c-y.size;a.preventDefault();var n=y.size,u=y.x,t=y.y;y.size=c;y.x=Math.max(0,Math.min(1-c,y.x-p*(a.clientX-b.left)/f.width));y.y=Math.max(0,Math.min(1-c,y.y-p*(1-(a.clientY-b.top)/f.height)));d.Ac&&!1===d.Ac(y)?(y.size=n,y.x=u,y.y=t):(v(),this.F())}.bind(this));this.remove=function(){if(!B()){H.viewport(0,0,2*F.width,2*F.height);H.clear(H.COLOR_BUFFER_BIT);
var a=H.getExtension("WEBGL_lose_context");a&&a.loseContext();f.removeEventListener("mousedown",ba);f.removeEventListener("wheel",W);L.disable();z=!0}};var T={};this.Gb=function(){if(!B())return f.toDataURL()};this.resize=function(){B()||(f.width=f.offsetWidth,f.height=f.offsetHeight)};["update"].forEach(function(a){(function(a,b){b[a]=function(){var d=arguments,f;for(f in l){var c=l[f];c[a].apply(c,d)}return b}})(a,R)});H=function(){var a={depth:!1,antialias:!1};return f.getContext("webgl",a)||f.getContext("experimental-webgl",
a)}();H.clearColor(K.r,K.W,K.T,K.ra);H.blendEquation(H.FUNC_ADD);H.blendFuncSeparate(H.SRC_ALPHA,H.ONE_MINUS_SRC_ALPHA,H.ONE,H.ONE);H.enable(H.BLEND);y={size:1,x:0,y:0};this.resize();var G=new r(L,N),S=new J(L,N);l.ca=new c(f,F,y,H,G,S,L,d,p,n,g,x,Z,ca,M,N)}function a(a){void 0!==a.Aa?(a.b=a.Aa,delete a.Aa):void 0===a.b&&(a.b=++d)}function e(a,b,d){var f=[];f.length=a.length+b.length;for(var c=0,k=0,e=0;c<a.length&&k<b.length;)0>d(a[c],b[k])?f[e++]=a[c++]:f[e++]=b[k++];for(;c<a.length;)f[e++]=a[c++];
for(;k<b.length;)f[e++]=b[k++];return f}var c=h(2);v=h(8);var b=h(4),k=h(3),q=h(7),r=h(18),J=h(19),m=h(20),D=h(21);h=h(16);var d=0;g.color=k;g.fd=h;g.rc=v;g.color=k;window.Qc=g;w.f=g},function(w,v,h){h(3);var g=h(4),a=h(5),e=h(8),c=h(12),b=h(13);h(7);var k=h(16);w.f=function(q,r,h,m,D,d,f,x,A,E,I,B,C,O,v,w){function J(a){void 0!==a&&(a=ba[a]);if(void 0===a||"number"!==typeof a)a=0;return a}function K(b,d,f,p,n,u){var t=d.x,k=d.y,l,e,q,z;c.bb(d.e,H);l=H.x;e=H.y;q=H.U;z=H.V;d=d.Jb?0:1;b.Xa&&a.g(b.Xa,
f,-e,l,-e,l,-e,l,-e,l);b.Sa&&a.g(b.Sa,f,-z,q,-z,q,-z,q,-z,q);a.ed(b.xc,f,d,d,d,d);a.g(b.position,f,t,k,t,k,t,k,t,k);a.g(b.direction,f,n,u,n,u,n,u,n,u);a.g(b.Tb,f,0,0,1,0,1,1,0,1);a.Ka(b.l,f,p)}function z(b,d,f,p){var n,u,t,k,e,q;c.bb(p.e,l);p=l.x;u=l.y;e=l.U;q=l.V;c.bb(f.e,y);f=y.x;n=y.y;t=y.U;k=y.V;b.Xa&&a.g(b.Xa,d,-n,f,-n,f,-u,p,-u,p);b.Sa&&a.g(b.Sa,d,-k,t,-k,t,-q,e,-q,e)}function u(a,b){var d=b.x-a.x,f=b.y-a.y,c=1/Math.sqrt(d*d+f*f);return{x:c*d,y:c*f}}function p(b){return function(b){var f=T.Db(b.font);
f.Ec(b.font,d,D);return{set:function(b,d,c,p){for(var n=d.x,u=d.y,t=f.get(d.label||"",n,u),k=0;k<t.length;k++,c+=4,p+=6){var e=t[k],l=e.xb;if(b.color){var q=d.color;a.zb(b.color,c,q,q,q,q)}a.g(b.position,c,n,u,n,u,n,u,n,u);a.g(b.cd,c,e.sa,e.ta,l.width+e.sa,e.ta,l.width+e.sa,l.height+e.ta,e.sa,l.height+e.ta);a.g(b.Tb,c,l.left,l.bottom,l.right,l.bottom,l.right,l.top,l.left,l.top);a.Ka(b.l,c,p)}},size:function(a,b){return f.gd(b.label||"")}}}(b)}function t(){return{set:function(b,d,f,c){var p=d.x,n=
d.y;a.g(b.position,f,p,n,p,n,p,n,p,n);a.g(b.Tb,f,0,0,1,0,1,1,0,1);b.color&&(d=d.color,a.zb(b.color,f,d,d,d,d));a.Ka(b.l,f,c)}}}var n=this;O=O||function(){return n.i.length};x=x||{};x.m=x.m||{};var N=Math.cos(.9),L=Math.sin(.9),l={},y={},H={},Y={lines:function(){return{set:function(b,d,f,p){var n=c.u(d);d=c.B(d);var t=n.x-d.x,k=n.y-d.y,l=u(n,d);z(b,f,n,d);a.g(b.position,f,n.x,n.y,n.x,n.y,d.x,d.y,d.x,d.y);a.g(b.Kb,f,0,0,0,0,t,k,t,k);a.g(b.Qb,f,-l.y,l.x,l.y,-l.x,l.y,-l.x,-l.y,l.x);a.Ka(b.l,f,p)}}},curves:function(){return{s:3,
G:3,set:function(b,d,f,p){var n=c.u(d);d=c.B(d);var t=n.x-d.x,l=n.y-d.y,k=u(n,d);z(b,f,n,d);a.g(b.position,f,n.x,n.y,.5*(d.x+n.x),.5*(d.y+n.y),d.x,d.y);a.g(b.Kb,f,0,0,t/2,l/2,t,l);a.g(b.Qb,f,0,0,k.y,-k.x,0,0);a.g(b.curve,f,1,1,.5,0,0,0);a.l(b.l,f,p,0,1,2)}}},circles:function(){return{set:function(b,d,f,n){d=c.u(d);var p=.5>d.y?1:-1,u=1.25*p,t=1.5*p;z(b,f,d,d);a.g(b.position,f,d.x,d.y,d.x,d.y,d.x,d.y,d.x,d.y);a.g(b.Kb,f,0,0,1,p,2,u,3,t);a.g(b.Qb,f,0,0,1,p,0,1.25*p,-1,p);a.g(b.curve,f,1,1,.5,0,0,0,
.5,0);a.Ka(b.l,f,n)}}}},F={Lb:function(){return{set:function(a,b,d,f){var p=c.u(b);b=c.B(b);p=u(p,b);K(a,b,d,f,p.x,p.y)}}},Ab:function(){return{set:function(a,b,d,f){var p=c.u(b);b=c.B(b);return K(a,b,d,f,.5*(b.x-p.x),.5*(b.y-p.y))}}},yb:function(){return{set:function(a,b,d,f){b=c.B(b);return K(a,b,d,f,.5>b.x?N:-N,.5>b.y?-L:L)}}}};this.ab=function(a){void 0===M&&(M=new k(a,[],[],[],[],u));return M};var P=void 0,Q=void 0,M=void 0;this.set=function(a,b,f){function c(a,b){var f=(a.style.label||{}).font||
{},c=T.Db(f);a.style.o=c.nc(f,d,D,b)}function n(a,b){"string"===typeof a.style.o?a.style.o=D.get(m,a.style.o,b):b()}function l(a){return a.b||-a.index||-a.vc}var q=this;V=U=0;this.a=a=a||[];this.i=b=b?[].concat(b):[];M=void 0;for(var z=[],r=[],y=[],g=0;g<b.length;g++){var L=b[g];"number"==typeof L.source&&(L.source=a[L.source]);"number"==typeof L.target&&(L.target=a[L.target])}this.ab=function(b){void 0===M&&(M=new k(b,a,z,r,y,u));return M};(function(){for(var d=0;d<a.length;d++)a[d].index=d;for(var d=
0,f=a.length+10;d<b.length;d++,f++)b[d].vc=f;P=[];Q=new Uint32Array(b.length);var c={k:"_",xa:"_",d:[]},f={k:"circles",xa:"circleArrows",d:y},d={k:"lines",xa:"lineArrows",d:z},n={k:"curves",xa:"curveArrows",d:r};if(W.OES_standard_derivatives){for(var c={},p=0;p<b.length;p++){var u=b[p],t=l(u.source),u=l(u.target);(c[t]||(c[t]={}))[u]=!0}for(p=0;p<b.length;p++){var t=b[p],u=l(t.source),k=l(t.target);u===k?(t.t=2,u=y,k=f):(k=c[k])&&k[u]?(t.t=1,u=r,k=n):(t.t=0,u=z,k=d);P.push(k);Q[p]=k.d.length;u.push(t)}}else for(f=
0;f<b.length;f++)n=b[f],p=c,l(n.source)!==l(n.target)&&(p=d,n.t=0,z.push(n)),P.push(p),Q[f]=p.d.length})();f&&(new e[f](a,b)).apply()&&e.normalize(a);G.a.set(m,x.m,n,a.length&&!a[0].color?a:[],t);G.wc.set(m,x.m,n,a.length&&a[0].color?a:[],t);A.label&&(T.clear(),G.labels.set(m,x.m,c,a,p));G.Ja.set(m,x.m,n,z,Y.Ja);W.OES_standard_derivatives&&(G.Ga.set(m,x.m,n,r,Y.Ga),G.Fa.set(m,x.m,n,y,Y.Fa));E.ba&&(G.Lb.set(m,x.m,n,z,F.Lb),W.OES_standard_derivatives&&(G.Ab.set(m,x.m,n,r,F.Ab),G.yb.set(m,x.m,n,y,F.yb)));
(function(){function a(){b&&q.set(q.a,q.i)}var b=!1;d.fb(a);D.fb(a);b=!0})()};this.update=function(b,d,f){G[b].update(m,d,f,function(){return{set:function(b,d,f){return a.zb(b,f,d,d,d,d)}}})};this.find=function(a,b,d,f,c){return n.ab(r).find(r,a,b,d,h.size,f,c)};this.Cb=function(a,b,d,f,c,p){return n.ab(r).Cb(r,a,b,d,f,h.size,c,p)};this.Vb=function(a,b){n.a[b]=a;(n.a[0].color?G.wc:G.a).Ma(m,a,b,t);G.labels.Ma(m,a,b,p);M&&M.update(r,"nodes",b,a)};this.Ub=function(a,b){var d=P[b],f=Q[b];d.d[f]=n.i[b]=
a;G[d.k].Ma(m,a,f,Y[d.k]);E.ba&&G[d.xa].Ma(m,a,f,F[d.xa]);M&&M.update(r,d.k,f,a)};var U=0,V=0,X={x:-1,y:-1,title:""};this.Dc=function(a){n.a[a]!==X&&(U++,n.Vb(X,a))};var aa={source:{x:-1,y:-1},target:{x:-1,y:-1}};this.Cc=function(a){n.i[a]!==aa&&(V++,n.Ub(aa,a))};this.Ua=function(){return n.a.length-U};this.Ta=function(){return n.i.length-V};var ba={line:0,dashed:1,"chain-dotted":2,dotted:3};this.a=[];this.i=[];var W=g.Yc(m,"OES_standard_derivatives"),T=new b(m),G=this.gb=function(){return{elements:[],
add:function(a,b){G[a]=b;G.elements.push(b)}}}.call(this);q=["precision mediump float;","uniform vec4 color;","uniform sampler2D texture;","varying vec2 tc;","void main(void) {","   gl_FragColor = color * texture2D(texture, vec2(tc.s, tc.t));","}"];f=["precision mediump float;","uniform lowp sampler2D texture;","uniform mediump vec4 color;","uniform mediump float height_font;","uniform float type;","float u_buffer = 192.0 / 256.0;","float u_gamma = 4.0 * 1.4142 / height_font;","varying mediump vec2 tc;",
"void main() {","  if(type > 0.5){","    float tx=texture2D(texture, tc).r;","    float a= smoothstep(u_buffer - u_gamma, u_buffer + u_gamma, tx);","    gl_FragColor = color * texture2D(texture, vec2(tc.s, tc.t));","    gl_FragColor=vec4(color.rgb, a * color.a);","  }else{","    gl_FragColor = color * texture2D(texture, vec2(tc.s, tc.t));","  }","}"];v="   if(type >= 2.5){,      part = fract(part*3.0);,      if(part < 0.5) discard;,   }else if(type >= 1.5){,      if(part < 0.15) discard;,      if(part > 0.30 && part < 0.45) discard;,   }else if(type >= 0.5){,      if(part < 0.5) discard;,   }".split(",");
var S="#extension GL_OES_standard_derivatives : enable,#ifdef GL_ES,precision highp float;,#endif,uniform float width;,uniform vec4 color;,uniform float type;,uniform float lineStepSize;,uniform float lineSize;,varying vec2 c;,varying vec2 v_lengthSoFar;,void main(void) {,   float part = abs(fract(length(v_lengthSoFar)*lineStepSize*lineSize));".split(",").concat(v).concat("   vec2 px = dFdx(c);{   vec2 py = dFdy(c);{   float fx = 2.0 * c.x * px.x - px.y;{   float fy = 2.0 * c.y * py.x - py.y;{   float sd = (c.x * c.x - c.y) / sqrt(fx * fx + fy * fy);{   float alpha = 1.0 - abs(sd) / width;{   if (alpha < 0.0) discard;{   gl_FragColor = vec4(color.r, color.g, color.b, min(alpha, 1.0));{}".split("{"));
C=["attribute vec2 curveShift;","vec4 getShiftCurve(void) {","   vec2 shiftN = vec2(curveShift.x, aspect2 * curveShift.y);","   float length = length(screen * shiftN);","   return vec4(exc * (length == 0.0 ? vec2(0, 0) : shiftN * 0.5 / length), 0, 0);","}","attribute vec2 circleShift;","vec4 getShiftCircle(void) {","   return vec4(size*circleShift,0,0);","}"];G.add("lines",new a(m,E,null,"precision mediump float;,attribute vec2 position;,attribute vec2 normal;,attribute vec2 lengthSoFar;,uniform float exc;,uniform vec2 size;,uniform vec2 screen;,uniform float aspect2;,uniform float aspect;,uniform vec2 width;,uniform mat4 transform;,varying vec2 n;,varying vec2 v_lengthSoFar;".split(",").concat(C).concat(["void main(void) {",
"   gl_Position = getShiftCurve() + getShiftCircle() + vec4(width * normal, 0, 0) + transform * vec4(position, 0, 1);","   vec4 p = transform*vec4(lengthSoFar,0,0);","   v_lengthSoFar = vec2(p.x, p.y/aspect);","   n = normal;","}"]),"precision mediump float;,uniform float type;,uniform vec4 color;,varying vec2 n;,varying vec2 v_lengthSoFar;,uniform float lineSize;,void main(void) {,   float part = abs(fract(length(v_lengthSoFar)*lineSize*5.0));".split(",").concat(v).concat(["   gl_FragColor = vec4(color.r, color.g, color.b, color.a - length(n));",
"}"]),function(a){var b=a.ga.H;b.ua&&m.uniform1f(b.ua,a.M);m.uniform2f(b.screen,a.width,a.height);var d=2.5*a.O;b.size&&m.uniform2f(b.size,d/a.width,d/a.height);m.uniform1f(b.Mb,a.width/120);m.uniform1f(b.D,a.D);m.uniform1f(b.S,a.S);m.uniform2f(b.width,a.style.width/a.width,a.style.width/a.height);m.uniform1f(b.type,J(a.style.type));g.za(m,b.color,a.style.color)}));W.OES_standard_derivatives&&(G.add("curves",new a(m,E,null,"precision highp float;,attribute vec2 position;,attribute vec2 normal;,attribute vec2 curve;,attribute vec2 lengthSoFar;,uniform vec2 size;,uniform float exc;,uniform vec2 screen;,uniform float aspect2;,uniform float aspect;,uniform mat4 transform;,varying vec2 v_lengthSoFar;,varying vec2 c;".split(",").concat(C).concat(["void main(void) {",
"   vec2 n = vec2(normal.x, aspect2 * normal.y);","   float length = length(screen * n);","   n = length == 0.0 ? vec2(0, 0) : n / length;","   gl_Position = getShiftCurve() + getShiftCircle() + vec4(exc * n, 0, 0) + transform * vec4(position, 0, 1);","   c = curve;","   vec4 p = transform*vec4(lengthSoFar,0,0);","   v_lengthSoFar = vec2(p.x, p.y/aspect);","}"]),S,function(a){var b=a.ga.H;m.uniform1f(b.width,a.style.width);m.uniform1f(b.ua,a.M);m.uniform2f(b.screen,a.width,a.height);var d=2.5*a.O;
b.size&&m.uniform2f(b.size,d/a.width,d/a.height);m.uniform1f(b.Mb,a.width/120);m.uniform1f(b.D,a.D);m.uniform1f(b.S,a.S);m.uniform1f(b.type,J(a.style.type));b.eb&&m.uniform1f(b.eb,5);g.za(m,b.color,a.style.color)})),G.add("circles",new a(m,E,null,"precision highp float;,attribute vec2 position;,attribute vec2 normal;,attribute vec2 curve;,attribute vec2 lengthSoFar;,uniform float exc;,uniform vec2 screen;,uniform float aspect2;,uniform float aspect;,uniform vec2 size;,uniform mat4 transform;,varying vec2 c;,varying vec2 v_lengthSoFar;".split(",").concat(C).concat(["void main(void) {",
"   gl_Position = getShiftCurve() + getShiftCircle() + vec4(size * normal, 0, 0) + transform * vec4(position, 0, 1);","   c = curve;","   vec4 p = transform*vec4(size * lengthSoFar,0,0);","   v_lengthSoFar = vec2(p.x, p.y/aspect);","}"]),S,function(a){var b=a.ga.H;b.ua&&m.uniform1f(b.ua,a.M);m.uniform1f(b.width,a.style.width);m.uniform1f(b.type,J(a.style.type));m.uniform2f(b.screen,a.width,a.height);var d=2.5*a.O;b.size&&m.uniform2f(b.size,d/a.width,d/a.height);m.uniform1f(b.Mb,a.width/120);m.uniform1f(b.D,
a.D);m.uniform1f(b.S,a.S);b.eb&&m.uniform1f(b.eb,5/3);g.za(m,b.color,a.style.color)})));E.ba&&(v={wb:{xc:1}},S=function(a){var b=I(a,O(),.2);if(!b)return!0;var d=a.ga.H;m.uniform1f(d.offset,.5*a.O);m.uniform2f(d.Oc,b,a.style.S*b);m.uniform1f(d.ua,a.M);d.kc&&m.uniform1f(d.kc,.5*h.size*a.M);d.size&&(b=2.5*a.O,d.size&&m.uniform2f(d.size,b/a.width,b/a.height));m.uniform2f(d.screen,a.width,a.height);m.uniform1f(d.D,a.D);g.za(m,d.color,a.style.color)},G.add("lineArrows",new a(m,E,"arrow","attribute vec2 position;,attribute vec2 direction;,attribute vec2 textureCoord;,attribute float offsetMul;,uniform float offset;,uniform vec2 arrowsize;,uniform vec2 size;,uniform vec2 screen;,uniform float exc;,uniform float aspect2;,uniform mat4 transform;,varying vec2 tc;".split(",").concat(C).concat(["void main(void) {",
"   vec2 u = direction / length(screen * direction);","   vec2 v = vec2(u.y, -aspect2 * u.x);","   v = v / length(screen * v);","   gl_Position = getShiftCurve() + getShiftCircle()  + vec4(arrowsize.x * (0.5 - textureCoord.x) * v - arrowsize.y * textureCoord.y * u - offset * offsetMul * u, 0, 0) + transform * vec4(position, 0, 1);","   tc = textureCoord;","}"]),q,S,v)),W.OES_standard_derivatives&&(G.add("curveArrows",new a(m,E,"arrow","attribute vec2 position;,attribute vec2 direction;,attribute vec2 textureCoord;,attribute float offsetMul;,uniform float offset;,uniform vec2 arrowsize;,uniform vec2 size;,uniform float exc;,uniform float cexc;,uniform vec2 screen;,uniform float aspect2;,uniform mat4 transform;,varying vec2 tc;".split(",").concat(C).concat(["void main(void) {",
"   vec2 u = normalize(vec2(direction.y, -aspect2 * direction.x));","   u = normalize(direction - cexc * u / length(screen * u));","   u = u / length(screen * u);","   vec2 v = vec2(u.y, -aspect2 * u.x);","   v = v / length(screen * v);","   gl_Position = getShiftCurve() + getShiftCircle() + vec4(arrowsize.x * (0.5 - textureCoord.x) * v - arrowsize.y * textureCoord.y * u - offset * offsetMul * u, 0, 0) + transform * vec4(position, 0, 1);","   tc = textureCoord;","}"]),q,S,v)),G.add("circleArrows",
new a(m,E,"arrow","attribute vec2 position;,attribute vec2 direction;,attribute vec2 textureCoord;,attribute float offsetMul;,uniform float offset;,uniform vec2 arrowsize;,uniform vec2 size;,uniform vec2 screen;,uniform float exc;,uniform float aspect2;,uniform mat4 transform;,varying vec2 tc;".split(",").concat(C).concat(["void main(void) {","   vec2 u = direction;","   vec2 v = vec2(direction.y, -direction.x);","   gl_Position = getShiftCurve() + getShiftCircle() + vec4((arrowsize.x * (0.5 - textureCoord.x) * v - arrowsize.y * textureCoord.y * u - offset * offsetMul * u) / screen, 0, 0) + transform * vec4(position, 0, 1);",
"   tc = textureCoord;","}"]),q,S,v))));G.add("nodes",new a(m,A,null,["attribute vec2 position;","attribute vec2 textureCoord;","uniform vec2 size;","uniform mat4 transform;","varying vec2 tc;","void main(void) {","   gl_Position = vec4(size * (textureCoord - vec2(0.5, 0.5)), 0, 0) + transform * vec4(position, 0, 1);","   tc = textureCoord;","}"],q,function(a){var b=B(a),d=a.ga.H;m.uniform2f(d.size,b/a.width,b/a.height);g.za(m,d.color,a.style.color)}));G.add("nodesColored",new a(m,A,null,["attribute vec2 position;",
"attribute vec2 textureCoord;","attribute vec4 color;","uniform vec2 size;","uniform mat4 transform;","varying vec2 tc;","varying vec4 c;","void main(void) {","   gl_Position = vec4(size * (textureCoord - vec2(0.5, 0.5)), 0, 0) + transform * vec4(position, 0, 1);","   tc = textureCoord;","   c = color;","}"],["precision mediump float;","uniform sampler2D texture;","varying vec2 tc;","varying vec4 c;","void main(void) {","   gl_FragColor = c * texture2D(texture, vec2(tc.s, tc.t));","}"],function(a){var b=
B(a);m.uniform2f(a.ga.H.size,b/a.width,b/a.height)}));A.label&&G.add("labels",new a(m,A,"label",["attribute vec2 position;","attribute vec2 relative;","attribute vec2 textureCoord;","uniform float offset;","uniform vec2 scale;","uniform float fontScale;","uniform mat4 transform;","varying vec2 tc;","void main(void) {","   gl_Position = vec4(scale * (relative*fontScale + vec2(0, (2.0 * step(position.y, 0.5) - 1.0) * offset)), 0, 0) + transform * vec4(position, 0, 1);","   tc = textureCoord;","}"],
f,function(a){if(!B(a))return!0;var b=a.style.label.font,f=a.ga.H;m.uniform1f(f.type,T.qc(b)?1:0);var c=T.Db(b);c.Ec(b,d,D);var p=1,c=c.fontSize;(b=(b||{}).size||c)&&c&&(p=b/c);m.uniform1f(f.Tc,p);m.uniform1f(f.Wc,c);m.uniform1f(f.offset,.5*a.O);m.uniform2f(f.scale,1/a.width,1/a.height);g.za(m,f.color,a.style.color)}));if(x.fb){q=x.m;for(var ga in q)f=q[ga],f.o&&D.get(m,f.o,w),f.ba&&f.ba.o&&D.get(m,f.ba.o)}}},function(w){w.f=function h(g){if(!(this instanceof h))throw new TypeError("Cannot call a class as a function");
this.ra=1;3<=arguments.length?(this.r=arguments[0],this.W=arguments[1],this.T=arguments[2],3<arguments.length&&(this.ra=arguments[3])):/^rgba\((\d+), ?(\d+), ?(\d+), ?(\d+)\)$/i.test(g)?(g=/^rgba\((\d+), ?(\d+), ?(\d+), ?(\d+)\)$/i.exec(g),this.r=parseInt(g[1],10)/255,this.W=parseInt(g[2],10)/255,this.T=parseInt(g[3],10)/255,this.ra=parseInt(g[4],10)/255):/^rgb\((\d+), ?(\d+), ?(\d+)\)$/i.test(g)?(g=/^rgb\((\d+), ?(\d+), ?(\d+)\)$/i.exec(g),this.r=parseInt(g[1],10)/255,this.W=parseInt(g[2],10)/255,
this.T=parseInt(g[3],10)/255):/^rgb\((\d+)\%, ?(\d+)\%, ?(\d+)\%\)$/i.test(g)?(g=/^rgb\((\d+)\%, ?(\d+)\%, ?(\d+)\%\)$/i.exec(g),this.r=parseInt(g[1],10)/100,this.W=parseInt(g[2],10)/100,this.T=parseInt(g[3],10)/100):/^\#([0-9a-f]{6})$/i.test(g)?(g=parseInt(g.substring(1),16),this.r=(g>>16&255)/255,this.W=(g>>8&255)/255,this.T=(g&255)/255):this.r=this.W=this.T=0}},function(w){var v=function(){function g(a,e){for(var c=0;c<e.length;c++){var b=e[c];b.enumerable=b.enumerable||!1;b.configurable=!0;"value"in
b&&(b.writable=!0);Object.defineProperty(a,b.key,b)}}return function(a,e,c){e&&g(a.prototype,e);c&&g(a,c);return a}}(),h=function(){function g(){if(!(this instanceof g))throw new TypeError("Cannot call a class as a function");}v(g,null,[{key:"initExtensions",value:function(a){for(var e=a.getSupportedExtensions(),c={},b=1;b<arguments.length;b++){var k=arguments[b];(c[k]=0<=e.indexOf(k))&&a.getExtension(k)}return c}},{key:"createShader",value:function(a,e,c){e=a.createShader(e);a.shaderSource(e,c);
a.compileShader(e);return a.getShaderParameter(e,a.COMPILE_STATUS)?e:(console.log(a.getShaderInfoLog(e)),null)}},{key:"createTexture",value:function(a,e,c,b){function k(){r.onload=null;a.bindTexture(a.TEXTURE_2D,q);(b||{}).Sb?(a.pixelStorei(a.UNPACK_FLIP_Y_WEBGL,!1),a.texImage2D(a.TEXTURE_2D,0,a.LUMINANCE,a.LUMINANCE,a.UNSIGNED_BYTE,r),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,a.LINEAR),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.LINEAR),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_S,
a.CLAMP_TO_EDGE),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_T,a.CLAMP_TO_EDGE)):(a.pixelStorei(a.UNPACK_FLIP_Y_WEBGL,!0),a.texImage2D(a.TEXTURE_2D,0,a.RGBA,a.RGBA,a.UNSIGNED_BYTE,r),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,a.LINEAR),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.LINEAR));a.bindTexture(a.TEXTURE_2D,null);c&&c()}var q=a.createTexture(),r=new Image;r.onload=k;r.src=e;r.naturalWidth&&r.naturalHeight&&k();q.Gb=r;return q}},{key:"uniformColor",value:function(a,e,c){a.uniform4f(e,
c.r,c.W,c.T,c.ra)}},{key:"ortho",value:function(a,e,c,b,k,q){var r=1/(a-e),g=1/(c-b),m=1/(k-q),h=new Float32Array(16);h[0]=-2*r;h[1]=0;h[2]=0;h[3]=0;h[4]=0;h[5]=-2*g;h[6]=0;h[7]=0;h[8]=0;h[9]=0;h[10]=2*m;h[11]=0;h[12]=(a+e)*r;h[13]=(b+c)*g;h[14]=(q+k)*m;h[15]=1;return h}}]);return g}();w.f=h},function(w,v,h){var g=function(){function a(a,c){for(var b=0;b<c.length;b++){var k=c[b];k.enumerable=k.enumerable||!1;k.configurable=!0;"value"in k&&(k.writable=!0);Object.defineProperty(a,k.key,k)}}return function(b,
c,e){c&&a(b.prototype,c);e&&a(b,e);return b}}(),a=h(6),e=h(3);h(7);v=function(){function c(b,k,q,r,g,m,h){function d(a,b){O=v=0;var d=Math.floor(c.sc/a.s),d=Math.min(d,b-(J-w)*d),f=d*a.G;if(!C.l||C.l.length!==f){C.l=new Uint16Array(f);var d=d*a.s,p;for(p in A.attributes)C[p]=new Float32Array(A.attributes[p].size*d)}}function f(a,b){if(a.size){var d=0;b.forEach(function(b){d+=a.size(C,b)});return d}return b.length}var x=this;if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");
var A=new a(b,r.join("\n"),g.join("\n"),h),E=[],I=[],B={},C={},O=void 0,v=void 0,w=0,J=0,K={set:function(a,b,d,f,k){for(var p=[a.l,b,d],n=0;n<k;n++)p.push(0);b=[void 0,b,d];for(d=0;d<f;d++)b.push(0);for(var u in a)"indices"===u?c.l.apply(x,p):(b[0]=a[u],c.g.apply(x,b))}};this.set=function(a,b,t,n,z){function p(a){function b(a){if(a)for(var b in a)d[b]=a[b]}var d={};b(k);b(a);q&&(b(k[q]),a&&b(a[q]));d.color=d.color&&new e(d.color);return d}function u(b){var d=E[J];if(!d){E[J]=d={};for(var f in C)d[f]=
a.createBuffer()}for(var c in A.attributes)a.bindBuffer(a.ARRAY_BUFFER,d[c]),a.bufferData(a.ARRAY_BUFFER,C[c],a.STATIC_DRAW);a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,d.l);a.bufferData(a.ELEMENT_ARRAY_BUFFER,C.l,a.STATIC_DRAW);d.G=v;d.s=O;b.Ea.push(d);J++}for(var y={},g={},r=0;r<n.length;r++){var m=n[r],N=y[m.style]=y[m.style]||[];void 0===N.cb&&(N.cb=[]);N.cb.push(r);m.dd=g[m.style]=void 0===g[m.style]?0:g[m.style]+1;N.push(m)}J=w=0;x.nb=new Uint32Array(n.length);x.ob=new Uint32Array(n.length);x.mb=new Uint8Array(n.length);
x.rb=new Uint8Array(n.length);I=[];for(var h in y){w=J;n={style:p(b[h]),Ea:[],Fc:h};g=z(n.style);g.s=g.s||4;g.G=g.G||6;r=y[h];m=f(g,r);d(g,m);for(var N=c.sc,K=0;K<r.length;K++){var D=g.size?g.size(C,r[K]):1,P=O+D*g.s,Q=v+D*g.G;P>=N&&(u(n),d(g,m),P=O,Q=v);g.set(C,r[K],O,v);var R=r.cb[K];x.nb[R]=v;x.ob[R]=O;x.mb[R]=J;x.rb[R]=D;v=Q;O=P}u(n);g=function(){I.push(this);B[this.Fc]=this}.bind(n);t?t(n,g):g()}};var z=void 0;this.update=function(a,b,d,f){var c=0,p=A.attributes[b].size;I.forEach(function(n){var k=
f(n.style);k.s=k.s||4;n.Ea.forEach(function(f){z&&z.length===p*f.s||(z=new Float32Array(p*f.s));for(var n=0;n<f.s;n+=(k.size?k.size(f,d[c]):1)*k.s)k.set(z,d[c++],n);a.bindBuffer(a.ARRAY_BUFFER,f[b]);a.bufferData(a.ARRAY_BUFFER,z,a.DYNAMIC_DRAW)})})};this.Ma=function(a,b,f,c){var p=B[b.style];c=c(p.style);c.s=c.s||4;c.G=c.G||6;J=w=0;var p=p.Ea[x.mb[f]],n=c.size?c.size(p,b):1,k=x.rb[f];if(n>k)console.error("Cannot set primitive to new value which has greater size ("+n+" > "+k+") - no enough empty space to fill in GL buffer");
else{d(c,k);for(c.set(C,b,0,0);n<k;n++)K.set(C,n*c.s,n*c.G,c.s,c.G);b=x.ob[f];f=x.nb[f];for(var u in A.attributes)a.bindBuffer(a.ARRAY_BUFFER,p[u]),a.bufferSubData(a.ARRAY_BUFFER,A.attributes[u].size*b*C[u].BYTES_PER_ELEMENT,C[u]);a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,p.l);a.bufferSubData(a.ELEMENT_ARRAY_BUFFER,f*C.l.BYTES_PER_ELEMENT,C.l)}};this.F=function(a){a.ga=A;b.uniformMatrix4fv(A.H.transform,!1,a.transform);I.forEach(function(d){d.style.o&&(b.activeTexture(b.TEXTURE0),b.bindTexture(b.TEXTURE_2D,
d.style.o),b.uniform1i(A.H.o,0));a.style=d.style;m(a)||d.Ea.forEach(function(a){b.bindBuffer(b.ELEMENT_ARRAY_BUFFER,a.l);for(var d in A.attributes){var f=A.attributes[d];b.bindBuffer(b.ARRAY_BUFFER,a[d]);b.vertexAttribPointer(f.index,f.size,b.FLOAT,!1,0,0)}b.drawElements(b.TRIANGLES,a.G,b.UNSIGNED_SHORT,0)})});A.hd()}}g(c,null,[{key:"vertices",value:function(a,c){for(var b=2,k=2*c,e=arguments.length;b<e;b++,k++)a[k]=arguments[b]}},{key:"singles",value:function(a,c){for(var b=2,k=1*c,e=arguments.length;b<
e;b++,k++)a[k]=arguments[b]}},{key:"colors",value:function(a,c){for(var b=2,k=4*c,e=arguments.length;b<e;b++){var g=arguments[b];a[k++]=g.r;a[k++]=g.W;a[k++]=g.T;a[k++]=g.ra}}},{key:"indices",value:function(a,c,e){for(var b=3,k=e,g=arguments.length;b<g;b++,k++)a[k]=c+arguments[b]}},{key:"quad",value:function(a,k,e){c.l(a,k,e,0,1,2,2,3,0)}},{key:"maxBufferSize",get:function(){return 65536}}]);return c}();w.f=v},function(w,v,h){var g=function(){function a(a,c){for(var b=0;b<c.length;b++){var k=c[b];
k.enumerable=k.enumerable||!1;k.configurable=!0;"value"in k&&(k.writable=!0);Object.defineProperty(a,k.key,k)}}return function(b,c,e){c&&a(b.prototype,c);e&&a(b,e);return b}}(),a=h(4),e={color:4};v=function(){function c(b,k,e,g){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");this.c=b;var q=this.Ra=b.createProgram();b.attachShader(q,a.createShader(b,b.VERTEX_SHADER,k));b.attachShader(q,a.createShader(b,b.FRAGMENT_SHADER,e));b.linkProgram(q);this.H={};k=b.getProgramParameter(q,
b.ACTIVE_UNIFORMS);for(e=0;e<k;e++){var r=b.getActiveUniform(q,e).name;this.H[r]=b.getUniformLocation(q,r)}g=(g||{}).wb||{};this.attributes={};k=b.getProgramParameter(q,b.ACTIVE_ATTRIBUTES);for(e=0;e<k;e++)r=b.getActiveAttrib(q,e).name,this.attributes[r]={index:e,size:g[r]||c.wb[r]||2}}g(c,[{key:"bind",value:function(){this.c.useProgram(this.Ra);for(var a=this.c.getProgramParameter(this.Ra,this.c.ACTIVE_ATTRIBUTES),c=0;c<a;c++)this.c.enableVertexAttribArray(c)}},{key:"unbind",value:function(){for(var a=
this.c.getProgramParameter(this.Ra,this.c.ACTIVE_ATTRIBUTES),c=0;c<a;c++)this.c.disableVertexAttribArray(c)}}],[{key:"attribute",get:function(){return e}}]);return c}();w.f=v},function(w){var v=function(){function g(a,e){for(var c=0;c<e.length;c++){var b=e[c];b.enumerable=b.enumerable||!1;b.configurable=!0;"value"in b&&(b.writable=!0);Object.defineProperty(a,b.key,b)}}return function(a,e,c){e&&g(a.prototype,e);c&&g(a,c);return a}}(),h=function(){function g(){if(!(this instanceof g))throw new TypeError("Cannot call a class as a function");
}v(g,null,[{key:"extend",value:function(a){for(var e=1;e<arguments.length;e++)for(var c in arguments[e])a[c]=arguments[e][c];return a}},{key:"isObject",value:function(a){return a===Object(a)}},{key:"emptyObject",value:function(a){if(!g.pc(a))return!1;for(var e in a)return!1;return!0}},{key:"ajax",value:function(a,e){var c;c=new XMLHttpRequest;c.onreadystatechange=function(){4==c.readyState&&200==c.status&&e(c.responseText)};c.open("GET",a,!0);c.send()}}]);return g}();w.f=h},function(w,v,h){var g=
function(){function a(a,c){for(var b=0;b<c.length;b++){var k=c[b];k.enumerable=k.enumerable||!1;k.configurable=!0;"value"in k&&(k.writable=!0);Object.defineProperty(a,k.key,k)}}return function(b,c,e){c&&a(b.prototype,c);e&&a(b,e);return b}}(),a=h(9),e=h(11);v=function(){function c(){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");}g(c,null,[{key:"normalize",value:function(a,c){var b,e,k=a.length;if(c)b=c.tc,e=c.uc;else{var g=-Infinity,h=-Infinity;b=e=Infinity;for(var d=
0;d<k;d++){var f=a[d],g=Math.max(g,f.x),h=Math.max(h,f.y);b=Math.min(b,f.x);e=Math.min(e,f.y)}c={Nb:g,Ob:h,tc:b,uc:e}}g=b!==c.Nb?1/(c.Nb-b):(b-=.5,1);h=e!==c.Ob?1/(c.Ob-e):(e-=.5,1);for(d=0;d<k;d++)f=a[d],f.x=g*(f.x-b),f.y=h*(f.y-e);return c}},{key:"force",get:function(){return a}},{key:"random",get:function(){return e}}]);return c}();w.f=v},function(w,v,h){var g=h(10);w.f=function(a,e){function c(a,b,e){var d=0,f=0;a.C=0;if(!a.h)for(var k=a.a,g,q=k.length,x=0;x<q;x++)g=k[x],null!=g&&(c(g,b,e),a.C+=
g.C,d+=g.C*g.U,f+=g.C*g.V);a.v&&(a.h||(a.v.x+=Math.random()-.5,a.v.y+=Math.random()-.5),b*=e[a.v.index],a.C+=a.Bc=b,d+=b*a.v.x,f+=b*a.v.y);a.U=d/a.C;a.V=f/a.C}function b(a){return function(b,d,c,e){if(b.v!==a){c=b.U-a.x;var f=b.V-a.y;d=e-d;e=c*c+f*f;if(d*d/.64<e)return Infinity>e&&(b=b.C/e,a.ea-=c*b,a.fa-=f*b),!0;b.v&&e&&Infinity>e&&(d=b.Bc/e,a.ea-=c*d,a.fa-=f*d)}return!b.C}}function k(){if(.05>(r*=.99))return r=0,!0;for(var d,f,k,A,E,I=a.length,B=e.length,C=0;C<B;C++)if(f=e[C],k=f.source,f=f.target,
d=f.x-k.x,E=f.y-k.y,A=d*d+E*E)A=r*m[C]*((A=Math.sqrt(A))-h[C])/A,d*=A,E*=A,f.x-=d*(A=k.weight/(f.weight+k.weight)),f.y-=E*A,k.x+=d*(A=1-A),k.y+=E*A;if(A=.4*r)for(d=q[0]/2,E=q[1]/2,k=0;k<I;k++)f=a[k],f.x+=(d-f.x)*A,f.y+=(E-f.y)*A;c(d=g(a),r,v);for(E=0;E<I;E++)f=a[E],!f.fixed&&d.Gc(b(f));for(d=0;d<I;d++)f=a[d],f.fixed?(f.x=f.ea,f.y=f.fa):(f.x-=.9*(f.ea-(f.ea=f.x)),f.y-=.9*(f.fa-(f.fa=f.y)))}var q=[1,1],r=void 0,h=[],m=[],v=[];this.apply=function(){for(var b=a.length,f=Math.sqrt(b),c=.3/f,g=0;g<b;g++){var q=
a[g];q.weight=0;q.x=void 0!==q.x?q.x:c+g%f/f;q.y=void 0!==q.y?q.y:c+Math.floor(g/f)/f;q.ea=q.x;q.fa=q.y;v[g]=-30}for(b=0;b<e.length;b++)f=e[b],f.source.weight++,f.target.weight++,h[b]=15,m[b]=1;for(r=.1;!k(););return!0}}},function(w){w.f=function(v){function h(){return{h:!0,a:[],v:null,x:null,y:null}}function g(a,b,d,f,c,e){if(!a(b,d,f,c,e)){var k=.5*(d+c),q=.5*(f+e);b=b.a;b[0]&&g(a,b[0],d,f,k,q);b[1]&&g(a,b[1],k,f,c,q);b[2]&&g(a,b[2],d,q,k,e);b[3]&&g(a,b[3],k,q,c,e)}}function a(a,b,d,f,c,k,g,q){if(a.h){var h=
a.x,r=a.y;if(null!==h){if(h!==d||r!==f){var z=a.v;a.x=a.y=a.v=null;e(a,z,h,r,c,k,g,q)}e(a,b,d,f,c,k,g,q)}else a.x=d,a.y=f,a.v=b}else e(a,b,d,f,c,k,g,q)}function e(b,d,f,c,e,k,g,q){var r=.5*(e+g),x=.5*(k+q),z=f>=r,u=c>=x,p=u<<1|z;b.h=!1;b=b.a[p]||(b.a[p]=h());z?e=r:g=r;u?k=x:q=x;a(b,d,f,c,e,k,g,q)}function c(a,b,d,f,c,e,k){var g=Infinity,q=void 0;(function z(a,p,t,n,r){if(!(p>e||t>k||n<f||r<c)){if(point=a.v){var u=b-a.x,l=d-a.y,u=u*u+l*l;u<g&&(u=Math.sqrt(g=u),f=b-u,c=d-u,e=b+u,k=d+u,q=void 0)}for(var u=
a.a,l=.5*(p+n),y=.5*(t+r),h=(d>=y)<<1|b>=l,x=h+4;h<x;++h)if(a=u[h&3])switch(h&3){case 0:z(a,p,t,l,y);break;case 1:z(a,l,t,n,y);break;case 2:z(a,p,y,l,r);break;case 3:z(a,l,y,n,r)}}})(a,f,c,e,k);return q}for(var b=void 0,k=void 0,q=void 0,r=void 0,w=void 0,m=void 0,D=void 0,d=void 0,f=void 0,d=f=-(m=D=Infinity),k=[],q=[],w=v.length,r=0;r<w;++r)b=v[r],b.x<m&&(m=b.x),b.y<D&&(D=b.y),b.x>d&&(d=b.x),b.y>f&&(f=b.y),k.push(b.x),q.push(b.y);b=d-m;r=f-D;b>r?f=D+b:d=m+r;var x=h();x.Gc=function(a){g(a,x,m,D,
d,f)};x.find=function(a,b){return c(x,a,b,m,D,d,f)};for(r=0;r<w;r++)a(x,v[r],k[r],q[r],m,D,d,f);--r;k=q=v=b=null;return x}},function(w){var v=function(){function g(a,e){for(var c=0;c<e.length;c++){var b=e[c];b.enumerable=b.enumerable||!1;b.configurable=!0;"value"in b&&(b.writable=!0);Object.defineProperty(a,b.key,b)}}return function(a,e,c){e&&g(a.prototype,e);c&&g(a,c);return a}}(),h=function(){function g(a){if(!(this instanceof g))throw new TypeError("Cannot call a class as a function");this.Qa=
a}v(g,[{key:"apply",value:function(){for(var a=0,e=this.Qa.length;a<e;a++){var c=this.Qa[a];c.x=Math.random();c.y=Math.random()}}}]);return g}();w.f=h},function(w){var v=function(){function g(a,e){for(var c=0;c<e.length;c++){var b=e[c];b.enumerable=b.enumerable||!1;b.configurable=!0;"value"in b&&(b.writable=!0);Object.defineProperty(a,b.key,b)}}return function(a,e,c){e&&g(a.prototype,e);c&&g(a,c);return a}}(),h=function(){function g(){if(!(this instanceof g))throw new TypeError("Cannot call a class as a function");
}v(g,null,[{key:"edgeSource",value:function(a){if(a.source.source){var e=this.u(a.source),c=this.B(a.source);return{x:(e.x+c.x)/2,y:(e.y+c.y)/2,b:a.b,index:a.index,Jb:!0,e:a.source}}return a.source}},{key:"edgeTarget",value:function(a){if(a.target.source){var e=this.u(a.target),c=this.B(a.target);return{x:(e.x+c.x)/2,y:(e.y+c.y)/2,b:a.b,index:a.index,Jb:!0,e:a.target}}return a.target}},{key:"getCurveShift",value:function(a,e){e=e||{};e.x=e.y=e.U=e.V=0;if(!a)return e;if(a.t&&1<=a.t)if(2<=a.t){var c=
.5>this.u(a).y?1:-1;e.U=1.25*c;e.V=0}else{var c=this.u(a),b=this.B(a);e.x=c.x-b.x;e.y=c.y-b.y}return e}}]);return g}();w.f=h},function(w,v,h){var g=function(){function a(a,b){for(var c=0;c<b.length;c++){var e=b[c];e.enumerable=e.enumerable||!1;e.configurable=!0;"value"in e&&(e.writable=!0);Object.defineProperty(a,e.key,e)}}return function(b,c,e){c&&a(b.prototype,c);e&&a(b,e);return b}}(),a=h(14),e=h(15),c=h(7);v=function(){function b(c){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");
this.c=c;this.oa={"default":new a(c),sdf:new e(c)}}g(b,[{key:"clear",value:function(){for(var a in this.oa)this.oa[a].clear()}},{key:"isSDF",value:function(a){return c.pc(a)&&a.o&&a.Pb?!0:!1}},{key:"getEngine",value:function(a){return this.qc(a)?this.oa.Sb:this.oa["default"]}},{key:"bind",value:function(){for(var a in this.oa);}}]);return b}();w.f=v},function(w){var v=function(){function g(a,e){for(var c=0;c<e.length;c++){var b=e[c];b.enumerable=b.enumerable||!1;b.configurable=!0;"value"in b&&(b.writable=
!0);Object.defineProperty(a,b.key,b)}}return function(a,e,c){e&&g(a.prototype,e);c&&g(a,c);return a}}(),h=function(){function g(a){if(!(this instanceof g))throw new TypeError("Cannot call a class as a function");this.c=a;this.K=1024;this.P=document.createElement("canvas");this.P.width=this.P.height=this.K;this.P.style.width=this.P.style.height=this.K+"px";this.P.style.display="none";document.body.appendChild(this.P);this.X=this.P.getContext("2d");this.X.fillStyle="white";this.X.textAlign="left";this.X.textBaseline=
"top";this.$=this.aa=this.L=this.R=this.Y=void 0;this.o=this.c.createTexture()}v(g,[{key:"clear",value:function(){this.$={};this.X.clearRect(0,0,this.K,this.K);this.Y=this.L=this.R=0}},{key:"setFont",value:function(a){this.$[a]=this.aa=this.$[a]||{};this.X.font=a;this.L=0;this.R+=this.Y;this.Y=+/(\d+)px/.exec(a)[1]+1}},{key:"getTexture",value:function(a,e,c,b){b();return this.o}},{key:"_getText",value:function(a){var e=this.aa[a];if(!e){var c=this.X.measureText(a).width;this.L+c>this.K&&(this.L=0,
this.R+=this.Y);this.X.fillText(a,this.L,this.R);this.aa[a]=e={width:c,height:this.Y,left:this.L/this.K,right:(this.L+c)/this.K,top:this.R/this.K,bottom:(this.R+this.Y)/this.K};this.L+=c}return e}},{key:"get",value:function(a,e,c){a=this.Lc(a);return[{xb:a,sa:.5>=e?0:-a.width,ta:.5>=c?a.height/2:-a.height}]}},{key:"steps",value:function(){return 1}},{key:"bind",value:function(){this.c.bindTexture(this.c.TEXTURE_2D,this.o);this.c.pixelStorei(this.c.UNPACK_FLIP_Y_WEBGL,!1);this.c.texParameteri(this.c.TEXTURE_2D,
this.c.TEXTURE_MAG_FILTER,this.c.NEAREST);this.c.texParameteri(this.c.TEXTURE_2D,this.c.TEXTURE_MIN_FILTER,this.c.NEAREST);this.c.texImage2D(this.c.TEXTURE_2D,0,this.c.RGBA,this.c.RGBA,this.c.UNSIGNED_BYTE,this.P);this.c.bindTexture(this.c.TEXTURE_2D,null)}},{key:"fontSize",get:function(){return this.Y}}]);return g}();w.f=h},function(w){var v=function(){function g(a,e){for(var c=0;c<e.length;c++){var b=e[c];b.enumerable=b.enumerable||!1;b.configurable=!0;"value"in b&&(b.writable=!0);Object.defineProperty(a,
b.key,b)}}return function(a,e,c){e&&g(a.prototype,e);c&&g(a,c);return a}}(),h=function(){function g(a){if(!(this instanceof g))throw new TypeError("Cannot call a class as a function");this.$={};this.aa;this.c=a}v(g,[{key:"clear",value:function(){this.$={}}},{key:"setFont",value:function(a,e,c,b){var k=a.font;this.$[k]=this.aa=this.$[k]||{};this.o=this.nc(a,e,c,b);this.ma=e;this.hb=e.get(a.Pb)}},{key:"getTexture",value:function(a,e,c,b){var k=function(){var a={};return function(c){a[c]=!0;a.Hc&&a.Ic&&
b&&b()}}();e.load(a.Pb,function(){k("SDFmetrics")},"json");return c.get(this.c,a.o,function(){k("SDFtexture")},{Sb:!0})}},{key:"_getChar",value:function(a){var e=this.aa[a],c=this.hb;if(!c)return{};if(!e){var e=this.o.Gb,b=c.buffer,c=c.Sc[a],k=c[0]+2*b,b=c[1]+2*b,g=c[5],h=c[6];this.aa[a]=e={wa:c[4],Fb:c[2],oc:c[3],width:k,height:b,left:g/e.width,right:(g+k)/e.width,top:h/e.height,bottom:(h+b)/e.height}}return e}},{key:"get",value:function(a,e,c){for(var b=0,k=0,g=0;g<a.length;g++)var h=this.ec(a[g]),
k=Math.max(k,h.height),b=h.wa?b+(h.wa+h.Fb):b+h.width;e=.5>=e?0:-b;c=.5>=c?k/2:-k;k=[];for(b=0;b<a.length;b++){var g=this.ec(a[b]),h=void 0,v=c;if(g.wa){var m=g.Fb,w=g.oc,h=g.wa;c-=g.height-w;e+=m}k.push({xb:g,sa:e,ta:c});c=v;e=g.wa?e+h:e+g.width}return k}},{key:"steps",value:function(a){return a.length}},{key:"bind",value:function(){}},{key:"isSDF",get:function(){return!0}},{key:"fontSize",get:function(){return(this.hb||{}).size}}]);return g}();w.f=h},function(w,v,h){function g(a,b){if(!(a instanceof
b))throw new TypeError("Cannot call a class as a function");}function a(a){var b=Math.pow(Math.abs(a),1/3);return 0>a?-b:b}function e(d,f,c,p,e,n,k,g){var l;l=4*c*c-16*c*e+8*c*k+16*e*e-16*e*k+4*k*k+4*p*p-16*p*n+8*p*g+16*n*n-16*n*g+4*g*g;var u=-12*c*c+36*c*e-12*c*k-24*e*e+12*e*k-12*p*p+36*p*n-12*p*g-24*n*n+12*n*g,t=12*c*c-24*c*e+4*c*k-4*c*d+8*e*e+8*e*d-4*k*d+12*p*p-24*p*n+4*p*g-4*p*f+8*n*n+8*n*f-4*g*f,z=-4*c*c+4*c*e+4*c*d-4*e*d-4*p*p+4*p*n+4*p*f-4*n*f;if(1E-8>Math.abs(l))if(l=u,u=t,t=z,1E-8>Math.abs(l))l=
u,l=1E-8>Math.abs(l)?[]:[-t/l];else{var h=u*u-4*l*t;l=1E-8>Math.abs(h)?[-u/(2*l)]:0<h?[(-u+Math.sqrt(h))/(2*l),(-u-Math.sqrt(h))/(2*l)]:[]}else{h=(3*l*t-u*u)/(3*l*l);z=(2*u*u*u-9*l*u*t+27*l*l*z)/(27*l*l*l);1E-8>Math.abs(h)?h=[a(-z)]:1E-8>Math.abs(z)?h=[0].concat(0>h?[Math.sqrt(-h),-Math.sqrt(-h)]:[]):(t=z*z/4+h*h*h/27,1E-8>Math.abs(t)?h=[-1.5*z/h,3*z/h]:0<t?(t=a(-z/2-Math.sqrt(t)),h=[t-h/(3*t)]):(t=2*Math.sqrt(-h/3),h=Math.acos(3*z/h/t)/3,z=2*Math.PI/3,h=[t*Math.cos(h),t*Math.cos(h-z),t*Math.cos(h-
2*z)]));for(t=0;t<h.length;t++)h[t]-=u/(3*l);l=h}u=Infinity;for(h=0;h<l.length;h++)t=l[h],0>t||1<t||(t=b(d,f,c*(1-t)*(1-t)+2*e*t*(1-t)+k*t*t,p*(1-t)*(1-t)+2*n*t*(1-t)+g*t*t),t<u&&(u=t));return u}function c(a){for(var b=Infinity,d=-b,c=Infinity,f=-c,e=0;e<a.length;e+=2){var k=a[e];k<b&&(b=k);k>d&&(d=k)}for(e=1;e<a.length;e+=2)k=a[e],k<c&&(c=k),k>f&&(f=k);return[b,c,d,f]}function b(a,b,d,c){a-=d;b-=c;return a*a+b*b}function k(a,b,d,c,f,e,k,g){var p=(d-a)*(g-e)-(c-b)*(k-f);if(0==p)return!1;k=((b-e)*
(k-f)-(a-f)*(g-e))/p;a=((b-e)*(d-a)-(a-f)*(c-b))/p;return 0>k||1<k||0>a||1<a?!1:!0}function q(a,b,d,c,f,e){return a>=d-I&&a<=f+I&&b>=c-I&&b<=e+I}function r(a,b){return a>=b-I&&a<=b+I}function J(a,b,d,c,f,e){return 0>c||1<c||!r(e-f,0)&&(a=(a*(1-c)*(1-c)+2*b*c*(1-c)+d*c*c)/(e-f),0>a||1<a)?!1:!0}function m(a,b,d,c,f,e,k,g,l,h){var p,n=-a*g+a*h+2*d*g-2*d*h-f*g+f*h+b*k-b*l-2*c*k+2*c*l+e*k-e*l;if(!r(n,0)&&!r(k-l,0)){p=2*a*g-2*a*h-2*d*g+2*d*h-2*b*l+2*c*k-2*c*l;var t=p*p-4*(-a*g+a*h+b*k-b*l-k*h+l*g)*(-a*
g+a*h+2*d*g-2*d*h-f*g+f*h+b*k-b*l-2*c*k+2*c*l+e*k-e*l);if(0<=t){var u=a*g-a*h-d*g+d*h-b*k+b*l+c*k-c*l;p=(u-.5*Math.sqrt(t))/n;if(J(b,c,e,k,l,p))return!0;p=(u+.5*Math.sqrt(t))/n;if(J(b,c,e,k,l,p))return!0}}n=-d*g+d*h+f*g-f*h+c*k-c*l-e*k+e*l;return r(b,2*c-e)&&r(a,2*d-f)&&!r(n,0)&&!r(k*g-k*h-l*g+l*h,0)&&J(b,c,e,k,l,(-2*d*g+2*d*h+f*g-f*h+2*c*k-2*c*l-e*k+e*l-k*h+l*g)/(2*n))?!0:r(g,h)&&r(b,2*c-e)&&!r(c-e,0)&&!r(k-l,0)&&J(b,c,e,k,l,(2*c-e-h)/(2*(c-e)))||r(a,(2*d*g-2*d*h-f*g+f*h+b*k-b*l-2*c*k+2*c*l+e*k-
e*l)/(g-h))&&!r(d*b*g-d*b*h-2*d*c*g+2*d*c*h+d*e*g-d*e*h-f*b*g+f*b*h+2*f*c*g-2*f*c*h-f*e*g+f*e*h-b*c*k+b*c*l+b*e*k-b*e*l+2*c*c*k-2*c*c*l-3*c*e*k+3*c*e*l+e*e*k-e*e*l,0)&&!r(k-l,0)&&J(b,c,e,k,l,(2*d*g-2*d*h-f*g+f*h-2*c*k+2*c*l+e*k-e*l+k*h-l*g)/(2*(d*g-d*h-f*g+f*h-c*k+c*l+e*k-e*l)))?!0:!1}function D(a,b,d,c,f,k,g,h,l,x){if(q(a,b,g,h,l,x)||q(f,k,g,h,l,x))return!0;var p=g-l,n=h-x,t=p*p+n*n,u=e((g+l)/2,(h+x)/2,a,b,d,c,f,k);return 4*u>t?!1:4*u<=Math.min(p*p,n*n)?!0:m(a,b,d,c,f,k,h,l,h,h)||m(a,b,d,c,f,k,l,
h,l,x)||m(a,b,d,c,f,k,l,x,g,x)||m(a,b,d,c,f,k,g,x,g,h)}function d(a,b,d,c){E["default"].bb(d,c);var f;d=-c.y;f=c.x*a.D;var e=d*a.width*d*a.width+f*a.height*f*a.height;r(e,0)?f=d=0:(e=Math.sqrt(e),d*=.25*a.M*b/e,f*=.25*a.M*b/e);e=2.5*a.O*b/a.height;a=2.5*a.O*b/a.width*-c.V*.5;b=.5*c.U*e;c.x=d+a;c.y=f+b}function f(a,b){return a.N-b.N}var x=function(){function a(a,b){for(var d=0;d<b.length;d++){var c=b[d];c.enumerable=c.enumerable||!1;c.configurable=!0;"value"in c&&(c.writable=!0);Object.defineProperty(a,
c.key,c)}}return function(b,d,c){d&&a(b.prototype,d);c&&a(b,c);return b}}(),A=(v=h(17))&&v.Xb?v:{"default":v},E=(h=h(12))&&h.Xb?h:{"default":h},I=Number.EPSILON||1E-14,B={},C=function(){function a(b){g(this,a);this.Ib=!0;this.e=b}x(a,[{key:"getBBox",value:function(){return[this.e.x-I,this.e.y-I,this.e.x+I,this.e.y+I]}},{key:"intersectsRect",value:function(a,b,d,c){return q(this.e.x,this.e.y,a,b,d,c)}},{key:"dist2",value:function(a,d){return b(a,d,this.e.x,this.e.y)}}]);return a}(),O=function(){function a(b){g(this,
a);this.Ia=!0;this.e=b}x(a,[{key:"getPoints",value:function(a,b){var c,f,e,k,g=E["default"].u(this.e),h=E["default"].B(this.e);c=g.x;f=g.y;e=h.x;k=h.y;d(a,b,g.e,B);c+=B.x;f+=B.y;d(a,b,h.e,B);e+=B.x;k+=B.y;return[c,f,e,k]}},{key:"getBBox",value:function(a,b){var d=this.Eb(a,b);return[Math.min(d[0],d[2]),Math.min(d[1],d[3]),Math.max(d[0],d[2]),Math.max(d[1],d[3])]}},{key:"intersectsRect",value:function(a,b,d,c,f,e){var g=this.Eb(f,e);f=g[0];e=g[1];var h=g[2],g=g[3];return q(f,e,a,b,d,c)||q(h,g,a,b,
d,c)?!0:k(f,e,h,g,a,b,d,b)||k(f,e,h,g,d,b,d,c)||k(f,e,h,g,d,c,a,c)||k(f,e,h,g,a,c,a,b)}},{key:"dist2",value:function(a,d,c,f){var e=this.Eb(c,f);f=e[0];c=e[1];var k=e[2],e=e[3],g=k-f,h=e-c,p=g*g+h*h,t=-1;0!=p&&(t=((a-f)*g+(d-c)*h)/p);0>t||(1<t?(f=k,c=e):(f+=t*g,c+=t*h));return b(a,d,f,c)}}]);return a}(),P=function(){function a(b){g(this,a);this.Ia=!0;this.e=b}x(a,[{key:"getBezierPoints",value:function(a,b){var c,f,e;e=E["default"].u(this.e);c=e.x;f=e.y;var k=2.5*a.O*b,g=k/a.width/2,k=k/a.height/2,
h=.5>e.y?1:-1;d(a,b,e.e,B);c+=B.x;f+=B.y;return[c,f,c+1*g,f+k*h,c,f+1.25*k*h,c-1*g,f+k*h]}},{key:"getBBox",value:function(a,b){var d=this.va(a,b);return c(d)}},{key:"intersectsRect",value:function(a,b,d,c,f,e){f=this.va(f,e);return D(f[0],f[1],f[2],f[3],f[4],f[5],a,b,d,c)||D(f[2],f[3],f[4],f[5],f[6],f[7],a,b,d,c)}},{key:"dist2",value:function(a,b,d,c){c=this.va(d,c);d=e(a,b,c[0],c[1],c[2],c[3],c[4],c[5]);a=e(a,b,c[2],c[3],c[4],c[5],c[6],c[7]);return Math.min(d,a)}}]);return a}(),Q=function(){function a(b){g(this,
a);this.Ia=!0;this.e=b}x(a,[{key:"getBezierPoints",value:function(a,b,c){var f,e,k,g,h=E["default"].u(this.e),p=E["default"].B(this.e);f=h.x;k=h.y;e=p.x;g=p.y;var q=c(h,p);c=q.y;var q=a.D*-q.x,x=a.width*c,u=a.height*q,x=2*Math.sqrt(x*x+u*u);c*=a.M*b/x;q*=a.M*b/x;d(a,b,h.e,B);f+=B.x;k+=B.y;d(a,b,p.e,B);e+=B.x;g+=B.y;return[f,k,(f+e)/2+c,(k+g)/2+q,e,g]}},{key:"intersectsRect",value:function(a,b,d,c,f,e,k){f=this.va(f,e,k);return D(f[0],f[1],f[2],f[3],f[4],f[5],a,b,d,c)}},{key:"getBBox",value:function(a,
b,d){a=this.va(a,b,d);return c(a)}},{key:"dist2",value:function(a,b,d,c,f){d=this.va(d,c,f);return e(a,b,d[0],d[1],d[2],d[3],d[4],d[5])}}]);return a}(),R={a:C,Ja:O,Fa:P,Ga:Q};w.f=function(){function a(b,d,c,f,e,k){g(this,a);this.normalize=k;this.ya=(0,A["default"])();this.types={a:[],Ja:[],Fa:[],Ga:[]};var h,l=[];l.length=d.length;for(h=0;h<d.length;h++){var q=new C(d[h]);l[h]=q.Ha(b,1);this.types.a.push(q);l[h].push(q)}l.length+=c.length;for(d=0;d<c.length;h++,d++)q=new O(c[d]),l[h]=q.Ha(b,1),this.types.Ja.push(q),
l[h].push(q);l.length+=e.length;for(d=0;d<e.length;h++,d++)c=new P(e[d]),l[h]=c.Ha(b,1),this.types.Fa.push(c),l[h].push(c);l.length+=f.length;for(d=0;d<f.length;h++,d++)e=new Q(f[d]),l[h]=e.Ha(b,1,k),this.types.Ga.push(e),l[h].push(e);this.ya.load(l)}x(a,[{key:"findArea",value:function(a,b,d,c,e,k,g,h){if(b>c){var l=b;b=c;c=l}d>e&&(l=d,d=e,e=l);l={};h&&(l.i=[]);g&&(l.a=[]);l.a&&l.a.sort(f);l.i&&l.i.sort(f);for(var q=(b+c)/2,p=(d+e)/2,x=this.ya.search([b-I,d-I,c+I,e+I]),n=0;n<x.length;n++){var r=x[n][4],
m=r.N(q,p,a,k,this.normalize);r.Zc(b,d,c,e,a,k,this.normalize)&&(r.Ib&&g&&l.a.push({node:r.e,Ya:Math.sqrt(m),N:m}),r.Ia&&h&&l.i.push({$a:r.e,Ya:Math.sqrt(m),N:m}))}return l}},{key:"find",value:function(a,b,d,c,e,k,g){var h={};g&&(h.i=[]);k&&(h.a=[]);var q=c*c;c=this.ya.search([b-c,d-c,b+c,d+c]);for(var x=0;x<c.length;x++){var n=c[x][4],p=n.N(b,d,a,e,this.normalize);p>q||(n.Ib&&k&&h.a.push({node:n.e,Ya:Math.sqrt(p),N:p}),n.Ia&&g&&h.i.push({$a:n.e,Ya:Math.sqrt(p),N:p}))}h.a&&h.a.sort(f);h.i&&h.i.sort(f);
return h}},{key:"update",value:function(a,b,d,c){this.ya.remove(this.types[b][d]);c=new R[b](c);a=c.Ha(a,1,this.normalize);a.push(c);this.ya.Hb(this.types[b][d]=a)}}]);return a}()},function(w){function v(a,b){if(!(this instanceof v))return new v(a,b);this.Pa=Math.max(4,a||9);this.qb=Math.max(2,Math.ceil(.4*this.Pa));b&&this.fc(b);this.clear()}function h(a,b){a.j=g(a,0,a.children.length,b)}function g(b,c,e,k){for(var d=[Infinity,Infinity,-Infinity,-Infinity],f;c<e;c++)f=b.children[c],a(d,b.h?k(f):
f.j);return d}function a(a,b){a[0]=Math.min(a[0],b[0]);a[1]=Math.min(a[1],b[1]);a[2]=Math.max(a[2],b[2]);a[3]=Math.max(a[3],b[3])}function e(a,b){return a.j[0]-b.j[0]}function c(a,b){return a.j[1]-b.j[1]}function b(a){return(a[2]-a[0])*(a[3]-a[1])}function k(a){return a[2]-a[0]+(a[3]-a[1])}function q(a,b){return a[0]<=b[0]&&a[1]<=b[1]&&b[2]<=a[2]&&b[3]<=a[3]}function r(a,b){return b[0]<=a[2]&&b[1]<=a[3]&&b[2]>=a[0]&&b[3]>=a[1]}function J(a,b,c,e,k){for(var d=[b,c],f;d.length;)c=d.pop(),b=d.pop(),
c-b<=e||(f=b+Math.ceil((c-b)/e/2)*e,m(a,b,c,f,k),d.push(b,f,f,c))}function m(a,b,c,e,k){for(var d,f,g,h,q;c>b;){600<c-b&&(d=c-b+1,f=e-b+1,g=Math.log(d),h=.5*Math.exp(2*g/3),q=.5*Math.sqrt(g*h*(d-h)/d)*(0>f-d/2?-1:1),g=Math.max(b,Math.floor(e-f*h/d+q)),f=Math.min(c,Math.floor(e+(d-f)*h/d+q)),m(a,g,f,e,k));d=a[e];f=b;h=c;D(a,b,e);for(0<k(a[c],d)&&D(a,b,c);f<h;){D(a,f,h);f++;for(h--;0>k(a[f],d);)f++;for(;0<k(a[h],d);)h--}0===k(a[b],d)?D(a,b,h):(h++,D(a,h,c));h<=e&&(b=h+1);e<=h&&(c=h-1)}}function D(a,
b,c){var d=a[b];a[b]=a[c];a[c]=d}v.prototype={all:function(){return this.ib(this.data,[])},search:function(a){var b=this.data,c=[],d=this.A;if(!r(a,b.j))return c;for(var e=[],k,g,h,m;b;){k=0;for(g=b.children.length;k<g;k++)h=b.children[k],m=b.h?d(h):h.j,r(a,m)&&(b.h?c.push(h):q(a,m)?this.ib(h,c):e.push(h));b=e.pop()}return c},load:function(a){if(!a||!a.length)return this;if(a.length<this.qb){for(var b=0,c=a.length;b<c;b++)this.Hb(a[b]);return this}a=this.kb(a.slice(),0,a.length-1,0);this.data.children.length?
this.data.height===a.height?this.sb(this.data,a):(this.data.height<a.height&&(b=this.data,this.data=a,a=b),this.pb(a,this.data.height-a.height-1,!0)):this.data=a;return this},Hb:function(a){a&&this.pb(a,this.data.height-1);return this},clear:function(){this.data={children:[],height:1,j:[Infinity,Infinity,-Infinity,-Infinity],h:!0};return this},remove:function(a){if(!a)return this;for(var b=this.data,c=this.A(a),d=[],e=[],k,g,h,m;b||d.length;){b||(b=d.pop(),g=d[d.length-1],k=e.pop(),m=!0);if(b.h&&
(h=b.children.indexOf(a),-1!==h)){b.children.splice(h,1);d.push(b);this.bc(d);break}m||b.h||!q(b.j,c)?g?(k++,b=g.children[k],m=!1):b=null:(d.push(b),e.push(k),k=0,g=b,b=b.children[0])}return this},A:function(a){return a},Va:function(a,b){return a[0]-b[0]},Wa:function(a,b){return a[1]-b[1]},toJSON:function(){return this.data},ib:function(a,b){for(var c=[];a;)a.h?b.push.apply(b,a.children):c.push.apply(c,a.children),a=c.pop();return b},kb:function(a,b,c,e){var d=c-b+1,f=this.Pa,k;if(d<=f)return k={children:a.slice(b,
c+1),height:1,j:null,h:!0},h(k,this.A),k;e||(e=Math.ceil(Math.log(d)/Math.log(f)),f=Math.ceil(d/Math.pow(f,e-1)));k={children:[],height:e,j:null,h:!1};var d=Math.ceil(d/f),f=d*Math.ceil(Math.sqrt(f)),g,q,m;for(J(a,b,c,f,this.Va);b<=c;b+=f)for(q=Math.min(b+f-1,c),J(a,b,q,d,this.Wa),g=b;g<=q;g+=d)m=Math.min(g+d-1,q),k.children.push(this.kb(a,g,m,e-1));h(k,this.A);return k},ac:function(a,c,e,k){for(var d,f,g,h,q,m,r,x;;){k.push(c);if(c.h||k.length-1===e)break;r=x=Infinity;d=0;for(f=c.children.length;d<
f;d++)g=c.children[d],q=b(g.j),m=g.j,m=(Math.max(m[2],a[2])-Math.min(m[0],a[0]))*(Math.max(m[3],a[3])-Math.min(m[1],a[1]))-q,m<x?(x=m,r=q<r?q:r,h=g):m===x&&q<r&&(r=q,h=g);c=h||c.children[0]}return c},pb:function(b,c,e){var d=this.A;e=e?b.j:d(b);var d=[],f=this.ac(e,this.data,c,d);f.children.push(b);for(a(f.j,e);0<=c;)if(d[c].children.length>this.Pa)this.hc(d,c),c--;else break;this.Yb(e,d,c)},hc:function(a,b){var c=a[b],d=c.children.length,f=this.qb;this.Zb(c,f,d);d=this.$b(c,f,d);d={children:c.children.splice(d,
c.children.length-d),height:c.height,j:null,h:!1};c.h&&(d.h=!0);h(c,this.A);h(d,this.A);b?a[b-1].children.push(d):this.sb(c,d)},sb:function(a,b){this.data={children:[a,b],height:a.height+1,j:null,h:!1};h(this.data,this.A)},$b:function(a,c,e){var d,f,k,h,q,m,r;q=m=Infinity;for(d=c;d<=e-c;d++)f=g(a,0,d,this.A),k=g(a,d,e,this.A),h=Math.max(0,Math.min(f[2],k[2])-Math.max(f[0],k[0]))*Math.max(0,Math.min(f[3],k[3])-Math.max(f[1],k[1])),f=b(f)+b(k),h<q?(q=h,r=d,m=f<m?f:m):h===q&&f<m&&(m=f,r=d);return r},
Zb:function(a,b,k){var d=a.h?this.Va:e,f=a.h?this.Wa:c,g=this.jb(a,b,k,d);b=this.jb(a,b,k,f);g<b&&a.children.sort(d)},jb:function(b,c,e,h){b.children.sort(h);h=this.A;var d=g(b,0,c,h),f=g(b,e-c,e,h),q=k(d)+k(f),m,r;for(m=c;m<e-c;m++)r=b.children[m],a(d,b.h?h(r):r.j),q+=k(d);for(m=e-c-1;m>=c;m--)r=b.children[m],a(f,b.h?h(r):r.j),q+=k(f);return q},Yb:function(b,c,e){for(;0<=e;e--)a(c[e].j,b)},bc:function(a){for(var b=a.length-1,c;0<=b;b--)0===a[b].children.length?0<b?(c=a[b-1].children,c.splice(c.indexOf(a[b]),
1)):this.clear():h(a[b],this.A)},fc:function(a){var b=["return a"," - b",";"];this.Va=new Function("a","b",b.join(a[0]));this.Wa=new Function("a","b",b.join(a[1]));this.A=new Function("a","return [a"+a.join(", a")+"];")}};w.f=v},function(w,v,h){var g=function(){function a(a,c){for(var b=0;b<c.length;b++){var e=c[b];e.enumerable=e.enumerable||!1;e.configurable=!0;"value"in e&&(e.writable=!0);Object.defineProperty(a,e.key,e)}}return function(b,c,e){c&&a(b.prototype,c);e&&a(b,e);return b}}(),a=h(7),
e=h(4);v=function(){function c(a,e){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");this.na=[a.Bb(e,5)];this.tb={};this.J={};this.pa=0}g(c,[{key:"get",value:function(a,c,g,h){var b=this,k=this.J[c],q=this.tb[c];k?k.push(g):q?g&&g():(k=this.J[c]=[g],this.pa++,this.tb[c]=q=e.createTexture(a,c,function(){k.forEach(function(a){return a&&a()});delete b.J[c];--b.pa||b.na.forEach(function(a){return a()})},h));return q}},{key:"onLoad",value:function(a){this.ic()?a():this.na.push(a)}},
{key:"allLoaded",value:function(){return a.lc(this.J)}}]);return c}();w.f=v},function(w,v,h){var g=function(){function a(a,b){for(var c=0;c<b.length;c++){var e=b[c];e.enumerable=e.enumerable||!1;e.configurable=!0;"value"in e&&(e.writable=!0);Object.defineProperty(a,e.key,e)}}return function(c,b,e){b&&a(c.prototype,b);e&&a(c,e);return c}}(),a=h(7);h(4);v=function(){function e(a,b){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.na=[a.Bb(b||function(){},5)];this.ma=
{};this.J={};this.pa=0}g(e,[{key:"_transformFile",value:function(a,b){return"json"===b?JSON.parse(a):a}},{key:"get",value:function(a){return this.ma[a]}},{key:"load",value:function(c,b,e){var k=this,g=this.J[c],h=this.ma[c];g?g.push(b):h?b&&b():(g=this.J[c]=[b],this.pa++,a.Nc(c,function(a){k.ma[c]=k.Mc(a,e);g.forEach(function(a){return a&&a(k.ma[c])});delete k.J[c];--k.pa||k.na.forEach(function(a){return a()})}));return h}},{key:"onLoad",value:function(a){this.ic()?a():this.na.push(a)}},{key:"allLoaded",
value:function(){return a.lc(this.J)}}]);return e}();w.f=v},function(w){var v=function(){function g(a,e){for(var c=0;c<e.length;c++){var b=e[c];b.enumerable=b.enumerable||!1;b.configurable=!0;"value"in b&&(b.writable=!0);Object.defineProperty(a,b.key,b)}}return function(a,e,c){e&&g(a.prototype,e);c&&g(a,c);return a}}(),h=function(){function g(){if(!(this instanceof g))throw new TypeError("Cannot call a class as a function");this.Oa=!0}v(g,[{key:"debounce",value:function(a,e,c){var b=this,k=arguments,
g=void 0,h=void 0,v=void 0,m=void 0,w=void 0,d=function x(){var d=Date.now-m;d<e&&0<d?g=setTimeout(x,e-d):(g=null,c||(b.Oa&&(w=a.apply(v,h)),g||(v=h=null)))};return function(){v=b;h=k;m=Date.now;var q=c&&!g;g||(g=setTimeout(d,e));q&&(b.Oa&&(w=a.apply(v,h)),v=h=null);return w}}},{key:"disable",value:function(){this.Oa=!1}}]);return g}();w.f=h},function(w,v,h){var g=function(){function a(a,b){for(var c=0;c<b.length;c++){var e=b[c];e.enumerable=e.enumerable||!1;e.configurable=!0;"value"in e&&(e.writable=
!0);Object.defineProperty(a,e.key,e)}}return function(c,b,e){b&&a(c.prototype,b);e&&a(c,e);return c}}(),a=h(12);v=function(){function e(c,b,g,h,r,v){var k=this;if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.Z=c;this.gc=b;this.dc=g;this.Qa=h;this.lb=v;this.ja=[];this.Ba=[];this.Ca=[];this.Da=[];this.qa={};this.la={};this.I={};h.forEach(function(a,b){k.qa[a.b]=b;k.I[a.b]={}});r.forEach(function(b,c){var d=a.u(b),e=a.B(b);k.I[d.b][e.b]=b;k.la[b.b]=c});this.ia=[];
this.ha=[]}g(e,[{key:"_doRemoveNodes",value:function(a){var b=this;a.forEach(function(a){if(void 0!==a.b){if(void 0!==b.qa[a.b])b.Z.ca.Dc(b.qa[a.b]),delete b.qa[a.b];else for(var c=0;c<b.ia.length;c++)if(b.ia[c]===a){b.ia.splice(c,1);break}a.Aa=a.b;delete a.b}})}},{key:"_doRemoveEdges",value:function(c){var b=this;c.forEach(function(c){if(void 0!==c.b){var e=a.u(c),g=a.B(c);delete (b.I[e.b]||{})[g.b];if(void 0!==b.la[c.b])b.Z.ca.Cc(b.la[c.b]),delete b.la[c.b];else for(e=0;e<b.ha.length;e++)if(b.ha[e]===
c){b.ha.splice(e,1);break}c.Aa=c.b;delete c.b}})}},{key:"_doAddEdges",value:function(){var a=this;this.ja.forEach(function(b){void 0!==a.la[b.b]&&a.Na([b]);if(void 0!==b.b)console.error(b),console.error("This edge has been already added, if you want to add same edge twice, create new object with same properties");else{a.lb(b);var c=a.ha;0<=c.indexOf(b)||c.push(b)}})}},{key:"_doAddNodes",value:function(){var a=this;this.Ba.forEach(function(b){void 0!==a.qa[b.b]&&a.cc([b]);if(void 0!==b.b)console.error(b),
console.error("This node has been already added, if you want to add same node twice, create new object with same properties");else{a.lb(b);a.I[b.b]={};var c=a.ia;0<=c.indexOf(b)||c.push(b)}})}},{key:"addEdge",value:function(c){var b=a.u(c),e=a.B(c).b,b=b.b;(this.I[b]||{})[e]&&this.Na([c]);if((this.I[e]||{})[b])return this.ja.push(this.I[e][b]),this.Na([this.I[e][b]]),this.ja.push(this.I[b][e]=c),this;this.ja.push(c);return this}},{key:"addNode",value:function(a){this.Ba.push(a);return this}},{key:"removeNode",
value:function(a){this.Da.push(a);return this}},{key:"removeEdge",value:function(a){this.Ca.push(a);return this}},{key:"applyChanges",value:function(){if(0===this.Ca.length&&0===this.Da.length&&0===this.ja.length&&0===this.Ba.length)return this;this.ia=this.Z.w?this.Z.w.a:[];this.ha=this.Z.w?this.Z.w.i:[];this.Na(this.Ca);this.cc(this.Da);this.Kc();this.Jc();this.ja=[];this.Ba=[];this.Ca=[];this.Da=[];this.gc();this.Z.w.set(this.ia,this.ha);this.dc();return this}}]);return e}();w.f=v}]);
"undefined"!==typeof module&&(module.f=ccNetViz);
