(function(k){function z(t){if(x[t])return x[t].c;var b=x[t]={c:{},id:t,loaded:!1};k[t].call(b.c,b,b.c,z);b.loaded=!0;return b.c}var x={};z.Fb=k;z.h=x;z.U="";return z(0)})([function(k,z,x){var t,b;!(t=[x(1)],b=function(){window.U=k.c=function(b,g){var d=new ccNetViz(b,g),H,J=[],B={},r,T;b.addEventListener("contextmenu",r=function(b){0<J.length&&(B=J.pop(),d.set(B.f,B.m),d.I());b.preventDefault()});b.addEventListener("click",T=function(b){var p=el.getBoundingClientRect();b=graph.kb({na:5,x:b.clientX-
p.left,y:b.clientY-p.top});b=d.find(b.x,b.y,b.na,!0,!1);if(0<b.f.length){var e=b.f[0].node;b=e.mb||H;e.Za?b=void 0:e.Za=!0;e.f&&e.m&&(p=e.f,e=e.m,J.push(B),B={f:p,m:e},d.set(B.f,B.m,b),d.I())}});this.remove=function(){b.removeEventListener("contextmenu",r);b.removeEventListener("click",T);d.remove()};this.set=function(b,p,e){toplevels=[];B={f:b,m:p};J=[];H=e;d.set.apply(d,arguments)};var E=this;"find findArea getLayerCoords draw resetView setViewport update resetView".split(" ").forEach(function(b){(function(b,
e){e[b]=function(){return d[b].apply(d,arguments)}})(b,E)})}}.apply(z,t),void 0!==b&&(k.c=b))},function(k,z,x){var t,b;!(t=[x(2),x(7),x(4),x(3),x(15),x(16),x(17),x(13)],b=function(b,g,d,H,J,B,r,T){function E(e,a){function c(a,c){if(!A()){var I=D.K[a].apply(D.K,c);if(!D.v)return I;var f=D.v[a].apply(D.v,c),u={},w;for(w in I)u[w]=t(I[w],f[w],function(a,I){return a.B-I.B});return u}}function q(a){return l(a,V(),.4)}function l(a,c,I){c=I*Math.sqrt(a.width*a.height/c)/y.size;if(a=a.style)c=a.Y?Math.min(a.Y,
c):c,c=c<a.Gb?0:a.V?Math.max(a.V,c):c;return c}function P(a){void 0!==a.da?(a.g=a.da,delete a.da):void 0===a.g&&(a.g=++p)}function A(){return G?(console.error("Cannot call any function on graph after remove()"),!0):!1}function g(){D.v||(D.v=new b(e,F,y,v,W,a,u,K,l,q,V,N,T))}function C(){x||(x=new r(D,g,O,k,edges,P));return x}function m(){if(X)for(var a in y);J.extend(X,y)}var Q=this;a=J.extend({Hb:function(){},Ib:function(){return!0},Jb:function(){return!0}},a);var w=a.u.background=a.u.background||
{},w=new H(w.color||"rgb(255, 255, 255)"),G=!1,u=a.u.node=a.u.node||{};u.V=null!=u.V?u.V:6;u.Y=u.Y||16;u.color=u.color||"rgb(255, 255, 255)";if(u.label){var f=u.label;f.color=f.color||"rgb(120, 120, 120)";f.font=f.font||"11px Arial, Helvetica, sans-serif"}var K=a.u.ya=a.u.ya||{};K.width=K.width||1;K.color=K.color||"rgb(204, 204, 204)";f={line:0,dashed:1,"chain-dotted":2,dotted:3};void 0!==f[K.type]&&(K.type=f[K.type]);if(void 0===K.type||"number"!==typeof K.type)K.type=0;K.T&&(f=K.T,f.V=null!=f.V?
f.V:6,f.Y=f.Y||12,f.ib=1);var D={},y,v,O;this.ha=function(){var a=D.K.ha();D.v&&(a+=D.v.ha());return a};var V=a.Eb||this.ha;this.ga=function(){var a=D.K.ga();D.v&&(a+=D.v.ga());return a};var N=a.Db||this.ga,E=this,T=J.Na(function(){E.I.call(E);return!1}),k,x=void 0;this.set=function(a,c,I){A()||(k=a||[],edges=c||[],k.forEach(P),edges.forEach(P),D.v&&D.v.set([],[],I),D.K.set(k,edges,I),x=void 0)};this.removeNode=function(a){if(A())return Q;C().removeNode(a);return Q};this.Ca=function(a){if(A())return Q;
C().Ca(a);return Q};this.qa=function(a){if(A())return Q;C().qa(a);return Q};this.ra=function(a){if(A())return Q;C().ra(a);return Q};this.Ya=function(a){if(A())return Q;Q.removeNode(a);Q.ra(a);return Q};this.Xa=function(a){if(A())return Q;Q.Ca(a);Q.qa(a);return Q};this.Ja=function(){if(A())return Q;C().Ja();return Q};var z=.5*u.Y;this.I=function(){if(!A()){var a=e.width,c=e.height,I=a/c,f=1===y.size?z:0,w=f/a,f=f/c;F.transform=d.tb(y.x-w,y.x+y.size+w,y.y-f,y.y+y.size+f);F.offsetX=w;F.offsetY=f;F.width=
.5*a;F.height=.5*c;F.H=I*I;F.count=V();F.style&&delete F.style;F.J=l(F,N(),.5);F.style=u;F.L=q(F);v.viewport(0,0,a,c);v.clear(v.COLOR_BUFFER_BIT);for(a=0;a<D.K.Da.elements.length;a++)D.K.Da.elements[a].I(F),D.v&&D.v.Da.elements[a].I(F)}};O=this.I.bind(this);this.kb=function(a){if(!A()){var c={};["x","x1","x2"].forEach(function(I){if(void 0!==a[I]){var f=a[I],f=f/e.width*(y.size+2*F.offsetX)-F.offsetX+y.x;c[I]=f}});["y","y1","y2"].forEach(function(I){if(void 0!==a[I]){var f=a[I],f=(1-f/e.height)*(y.size+
2*F.offsetY)-F.offsetY+y.y;c[I]=f}});if(void 0!==a.na){var I=a.na,I=Math.max(I/e.height,I/e.width)*y.size;c.na=I}return c}};this.find=function(){return c("find",arguments)};this.za=function(){return c("findArea",arguments)};var Z,Y;e.addEventListener("mousedown",Z=function(a){function c(){window.removeEventListener("mouseup",c);window.removeEventListener("mousemove",I)}function I(a){y.x=Math.max(0,Math.min(1-y.size,G-a.clientX/u));y.y=Math.max(0,Math.min(1-y.size,a.clientY/w-l));a.preventDefault();
m();f.I()}var f=this,u=e.width/y.size,w=e.height/y.size,G=y.x+a.clientX/u,l=a.clientY/w-y.y;window.addEventListener("mouseup",c);window.addEventListener("mousemove",I)}.bind(this));e.addEventListener("wheel",Y=function(a){var c=e.getBoundingClientRect(),I=Math.min(1,y.size*(1+.001*(a.deltaMode?33:1)*a.deltaY)),f=I-y.size;a.preventDefault();y.size=I;y.x=Math.max(0,Math.min(1-I,y.x-f*(a.clientX-c.left)/e.width));y.y=Math.max(0,Math.min(1-I,y.y-f*(1-(a.clientY-c.top)/e.height)));m();this.I()}.bind(this));
this.remove=function(){A()||(v.viewport(0,0,2*F.width,2*F.height),v.clear(v.COLOR_BUFFER_BIT),e.removeEventListener("mousedown",Z),e.removeEventListener("wheel",Y),G=!0)};var X={};this.resize=function(){A()||(e.width=e.offsetWidth,e.height=e.offsetHeight)};E=this;["update"].forEach(function(a){(function(a,c){c[a]=function(){var c=arguments,I;for(I in D){var f=D[I];f[a].apply(f,c)}}})(a,E)});v=function(){var a={depth:!1,antialias:!1};return e.getContext("webgl",a)||e.getContext("experimental-webgl",
a)}();v.clearColor(w.r,w.R,w.N,w.$);v.blendEquation(v.FUNC_ADD);v.blendFuncSeparate(v.SRC_ALPHA,v.ONE_MINUS_SRC_ALPHA,v.ONE,v.ONE);v.enable(v.BLEND);y={size:1,x:0,y:0};var F={};this.resize();var W=new B(a.sb||this.I);D.K=new b(e,F,y,v,W,a,u,K,l,q,V,N,T)}function t(e,a,c){var b=[];b.length=e.length+a.length;for(var l=0,d=0,A=0;l<e.length&&d<a.length;)0>c(e[l],a[d])?b[A++]=e[l++]:b[A++]=a[d++];for(;l<e.length;)b[A++]=e[l++];for(;d<a.length;)b[A++]=a[d++];return b}var p=0;E.color=H;E.h=T;E.mb=g;E.color=
H;return window.h=k.c=E}.apply(z,t),void 0!==b&&(k.c=b))},function(k,z,x){var t,b;!(t=[x(3),x(4),x(5),x(7),x(11),x(12),x(13)],b=function(b,g,d,H,J,B,r){k.c=function(b,M,t,p,e,a,c,q,l,P,A,L){function C(a,c,f,u,w,G){var y=c.x,l=c.y,b,K,D,e;J.ja(c.e,v);b=v.x;K=v.y;D=v.O;e=v.P;c=c.Qa?0:1;a.wa&&d.i(a.wa,f,-K,b,-K,b,-K,b,-K,b);a.ta&&d.i(a.ta,f,-e,D,-e,D,-e,D,-e,D);d.yb(a.rb,f,c,c,c,c);d.i(a.position,f,y,l,y,l,y,l,y,l);d.i(a.direction,f,w,G,w,G,w,G,w,G);d.i(a.Wa,f,0,0,1,0,1,1,0,1);d.ca(a.o,f,u)}function m(a,
c,f,u){var w,G,l,b,K;J.ja(u.e,D);u=D.x;G=D.y;b=D.O;K=D.P;J.ja(f.e,y);f=y.x;w=y.y;l=y.O;cisy=y.P;a.wa&&d.i(a.wa,c,-w,f,-w,f,-G,u,-G,u);a.ta&&d.i(a.ta,c,-cisy,l,-cisy,l,-K,b,-K,b)}function Q(a,c){var f=c.x-a.x,u=c.y-a.y,w=1/Math.sqrt(f*f+u*u);return{x:w*f,y:w*u}}function w(a){X.xb(a.font);a.D=X.D;return{set:function(a,c,f,u){var I=c.x,w=c.y;d.i(a.position,f,I,w,I,w,I,w,I,w);c=X.get(c.label);I=.5>=I?0:-c.width;w=.5>=w?0:-c.height;d.i(a.Kb,f,I,w,c.width+I,w,c.width+I,c.height+w,I,c.height+w);d.i(a.Wa,
f,c.left,c.bottom,c.right,c.bottom,c.right,c.top,c.left,c.top);d.ca(a.o,f,u)}}}function G(){return{set:function(a,c,f,u){var w=c.x,G=c.y;d.i(a.position,f,w,G,w,G,w,G,w,G);d.i(a.Wa,f,0,0,1,0,1,1,0,1);a.color&&(c=c.color,d.La(a.color,f,c,c,c,c));d.ca(a.o,f,u)}}}var u=this;L=L||function(){return u.m.length};a=a||{};a.u=a.u||{};var f=Math.cos(.9),K=Math.sin(.9),D={},y={},v={},O={lines:function(){return{set:function(a,c,f,u){var w=J.w(c);c=J.C(c);var G=w.x-c.x,l=w.y-c.y,b=Q(w,c);m(a,f,w,c);d.i(a.position,
f,w.x,w.y,w.x,w.y,c.x,c.y,c.x,c.y);d.i(a.Ra,f,0,0,0,0,G,l,G,l);d.i(a.Va,f,-b.y,b.x,b.y,-b.x,b.y,-b.x,-b.y,b.x);d.ca(a.o,f,u)}}},curves:function(){return{s:3,M:3,set:function(a,c,f,w){var u=J.w(c);c=J.C(c);var G=u.x-c.x,b=u.y-c.y,l=Q(u,c);m(a,f,u,c);d.i(a.position,f,u.x,u.y,.5*(c.x+u.x),.5*(c.y+u.y),c.x,c.y);d.i(a.Ra,f,0,0,G/2,b/2,G,b);d.i(a.Va,f,0,0,l.y,-l.x,0,0);d.i(a.curve,f,1,1,.5,0,0,0);d.o(a.o,f,w,0,1,2)}}},circles:function(){return{set:function(a,c,f,u){c=J.w(c);var w=.5>c.y?1:-1,G=1.25*w,b=
1.5*w;m(a,f,c,c);d.i(a.position,f,c.x,c.y,c.x,c.y,c.x,c.y,c.x,c.y);d.i(a.Ra,f,0,0,1,w,2,G,3,b);d.i(a.Va,f,0,0,1,w,0,1.25*w,-1,w);d.i(a.curve,f,1,1,.5,0,0,0,.5,0);d.ca(a.o,f,u)}}}},V={Sa:function(){return{set:function(a,c,f,w){var u=J.C(c);c=Q(J.w(c),u);C(a,u,f,w,c.x,c.y)}}},Ma:function(){return{set:function(a,c,f,w){var u=J.w(c);c=J.C(c);return C(a,c,f,w,.5*(c.x-u.x),.5*(c.y-u.y))}}},Ka:function(){return{set:function(a,c,w,u){c=J.C(c);return C(a,c,w,u,.5>c.x?f:-f,.5>c.y?-K:K)}}}};this.Aa=function(a){void 0===
S&&(S=new r(a,[],[],[],[],Q));return S};var N,k,S=void 0;this.set=function(f,u,b){function l(a){return a.g||-a.index||-a.pb}z=x=0;this.f=f=f||[];this.m=u=u?[].concat(u):[];S=void 0;for(var K=[],y=[],D=[],d=0;d<u.length;d++){var v=u[d];"number"==typeof v.source&&(v.source=f[v.source]);v=u[d];"number"==typeof v.target&&(v.target=f[v.target])}this.Aa=function(a){void 0===S&&(S=new r(a,f,K,y,D,Q));return S};(function(){for(var a=0;a<f.length;a++)f[a].index=a;for(var a=0,c=f.length+10;a<u.length;a++,c++)u[a].pb=
c;N=[];k=new Uint32Array(u.length);var w={k:"_",ba:"_",d:[]},c={k:"circles",ba:"circleArrows",d:D},G={k:"lines",ba:"lineArrows",d:K},b={k:"curves",ba:"curveArrows",d:y};if(Y.OES_standard_derivatives){w={};for(a=0;a<u.length;a++){var v=u[a],d=l(v.source),e=l(v.target);(w[d]||(w[d]={}))[e]=!0}for(a=0;a<u.length;a++){var v=u[a],d=l(v.source),e=l(v.target),O;d===e?(v.t=2,d=D,O=c):(O=w[e])&&O[d]?(v.t=1,d=y,O=b):(v.t=0,d=K,O=G);N.push(O);k[a]=O.d.length;d.push(v)}}else for(a=0;a<u.length;a++)v=u[a],d=l(v.source),
e=l(v.target),O=w,d!==e&&(O=G,v.t=0,K.push(v)),N.push(O),k[a]=O.d.length})();b&&(new H[b](f,u)).apply()&&H.normalize(f);F.f.set(p,a.u,e,f.length&&!f[0].color?f:[],G);F.qb.set(p,a.u,e,f.length&&f[0].color?f:[],G);c.label&&(X.clear(),F.labels.set(p,a.u,e,f,w),X.bind());F.ma.set(p,a.u,e,K,O.ma);Y.OES_standard_derivatives&&(F.ia.set(p,a.u,e,y,O.ia),F.fa.set(p,a.u,e,D,O.fa));q.T&&(F.Sa.set(p,a.u,e,K,V.Sa),Y.OES_standard_derivatives&&(F.Ma.set(p,a.u,e,y,V.Ma),F.Ka.set(p,a.u,e,D,V.Ka)))};this.update=function(a,
c,f){F[a].update(p,c,f,function(){return{set:function(a,c,f){return d.La(a,f,c,c,c,c)}}})};this.find=function(a,c,f,w,G){return u.Aa(M).find(M,a,c,f,t.size,w,G)};this.za=function(a,c,f,w,G,b){return u.Aa(M).za(M,a,c,f,w,t.size,G,b)};this.Ya=function(a,c){u.f[c]=a;(u.f[0].color?F.qb:F.f).oa(p,a,c,G);F.labels.oa(p,a,c,w);S&&S.update(M,"nodes",c,a)};this.Xa=function(a,c){var f=N[c],w=k[c];f.d[w]=u.m[c]=a;F[f.k].oa(p,a,w,O[f.k]);q.T&&F[f.ba].oa(p,a,w,V[f.ba]);S&&S.update(M,f.k,w,a)};var x=0,z=0,ba={x:-1,
y:-1,title:""};this.wb=function(a){u.f[a]!==ba&&(x++,u.Ya(ba,a))};var Z={source:{x:-1,y:-1},target:{x:-1,y:-1}};this.vb=function(a){u.m[a]!==Z&&(z++,u.Xa(Z,a))};this.ha=function(){return u.f.length-x};this.ga=function(){return u.m.length-z};this.f=[];this.m=[];var Y=g.lb(p,"OES_standard_derivatives"),X=new B(p),F=this.Da=function(){return{elements:[],add:function(a,c){F[a]=c;F.elements.push(c)}}}.call(this);b=["precision mediump float;","uniform vec4 color;","uniform sampler2D texture;","varying vec2 tc;",
"void main(void) {","   gl_FragColor = color * texture2D(texture, vec2(tc.s, tc.t));","}"];var W=["#extension GL_OES_standard_derivatives : enable","#ifdef GL_ES","precision highp float;","#endif","uniform float width;","uniform vec4 color;","uniform float type;","uniform float lineStepSize;","varying vec2 c;","varying vec2 v_lengthSoFar;","void main(void) {","   float part = abs(fract(length(v_lengthSoFar)*lineStepSize));","   if(type >= 2.5){","      part = fract(part*5.0);","      if(part < 0.5) discard;",
"   }else if(type >= 1.5){","      if(part < 0.15) discard;","      if(part > 0.25 && part < 0.40) discard;","   }else if(type >= 0.5){","      if(part < 0.2) discard;","   }","   vec2 px = dFdx(c);","   vec2 py = dFdy(c);","   float fx = 2.0 * c.x * px.x - px.y;","   float fy = 2.0 * c.y * py.x - py.y;","   float sd = (c.x * c.x - c.y) / sqrt(fx * fx + fy * fy);","   float alpha = 1.0 - abs(sd) / width;","   if (alpha < 0.0) discard;","   gl_FragColor = vec4(color.r, color.g, color.b, min(alpha, 1.0));",
"}"];A=["attribute vec2 curveShift;","vec4 getShiftCurve(void) {","   vec2 shiftN = vec2(curveShift.x, aspect2 * curveShift.y);","   float length = length(screen * shiftN);","   return vec4(exc * (length == 0.0 ? vec2(0, 0) : shiftN * 0.5 / length), 0, 0);","}","attribute vec2 circleShift;","vec4 getShiftCircle(void) {","   return vec4(size*circleShift,0,0);","}"];F.add("lines",new d(p,q,null,"precision mediump float;,attribute vec2 position;,attribute vec2 normal;,attribute vec2 lengthSoFar;,uniform float exc;,uniform vec2 size;,uniform vec2 screen;,uniform float aspect2;,uniform vec2 width;,uniform mat4 transform;,varying vec2 n;,varying vec2 v_lengthSoFar;".split(",").concat(A).concat(["void main(void) {",
"   gl_Position = getShiftCurve() + getShiftCircle() + vec4(width * normal, 0, 0) + transform * vec4(position, 0, 1);","   vec4 p = transform*vec4(lengthSoFar,0,0);","   v_lengthSoFar.x = p.x;","   v_lengthSoFar.y = p.y;","   n = normal;","}"]),["precision mediump float;","uniform float type;","uniform vec4 color;","varying vec2 n;","varying vec2 v_lengthSoFar;","void main(void) {","   float part = abs(fract(length(v_lengthSoFar)*15.0));","   if(type >= 2.5){","      part = fract(part*5.0);","      if(part < 0.5) discard;",
"   }else if(type >= 1.5){","      if(part < 0.15) discard;","      if(part > 0.25 && part < 0.40) discard;","   }else if(type >= 0.5){","      if(part < 0.2) discard;","   }","   gl_FragColor = vec4(color.r, color.g, color.b, color.a - length(n));","}"],function(a){a.b.a.aa&&p.uniform1f(a.b.a.aa,a.J);p.uniform2f(a.b.a.screen,a.width,a.height);var c=2.5*a.L;a.b.a.size&&p.uniform2f(a.b.a.size,c/a.width,c/a.height);p.uniform1f(a.b.a.H,a.H);p.uniform2f(a.b.a.width,a.style.width/a.width,a.style.width/
a.height);p.uniform1f(a.b.a.type,a.style.type);g.Z(p,a.b.a.color,a.style.color)}));Y.OES_standard_derivatives&&(F.add("curves",new d(p,q,null,"precision highp float;,attribute vec2 position;,attribute vec2 normal;,attribute vec2 curve;,attribute vec2 lengthSoFar;,uniform vec2 size;,uniform float exc;,uniform vec2 screen;,uniform float aspect2;,uniform mat4 transform;,varying vec2 v_lengthSoFar;,varying vec2 c;".split(",").concat(A).concat(["void main(void) {","   vec2 n = vec2(normal.x, aspect2 * normal.y);",
"   float length = length(screen * n);","   n = length == 0.0 ? vec2(0, 0) : n / length;","   gl_Position = getShiftCurve() + getShiftCircle() + vec4(exc * n, 0, 0) + transform * vec4(position, 0, 1);","   c = curve;","   vec4 p = transform*vec4(lengthSoFar,0,0);","   v_lengthSoFar.x = p.x;","   v_lengthSoFar.y = p.y;","}"]),W,function(a){p.uniform1f(a.b.a.width,a.style.width);p.uniform1f(a.b.a.aa,a.J);p.uniform2f(a.b.a.screen,a.width,a.height);var c=2.5*a.L;a.b.a.size&&p.uniform2f(a.b.a.size,c/a.width,
c/a.height);p.uniform1f(a.b.a.H,a.H);p.uniform1f(a.b.a.type,a.style.type);a.b.a.Ba&&p.uniform1f(a.b.a.Ba,15);g.Z(p,a.b.a.color,a.style.color)})),F.add("circles",new d(p,q,null,"precision highp float;,attribute vec2 position;,attribute vec2 normal;,attribute vec2 curve;,attribute vec2 lengthSoFar;,uniform float exc;,uniform vec2 screen;,uniform float aspect2;,uniform vec2 size;,uniform mat4 transform;,varying vec2 c;,varying vec2 v_lengthSoFar;".split(",").concat(A).concat(["void main(void) {","   gl_Position = getShiftCurve() + getShiftCircle() + vec4(size * normal, 0, 0) + transform * vec4(position, 0, 1);",
"   c = curve;","   vec4 p = transform*vec4(size * lengthSoFar,0,0);","   v_lengthSoFar.x = p.x;","   v_lengthSoFar.y = p.y;","}"]),W,function(a){a.b.a.aa&&p.uniform1f(a.b.a.aa,a.J);p.uniform1f(a.b.a.width,a.style.width);p.uniform1f(a.b.a.type,a.style.type);p.uniform2f(a.b.a.screen,a.width,a.height);var c=2.5*a.L;a.b.a.size&&p.uniform2f(a.b.a.size,c/a.width,c/a.height);p.uniform1f(a.b.a.H,a.H);a.b.a.Ba&&p.uniform1f(a.b.a.Ba,5);g.Z(p,a.b.a.color,a.style.color)})));if(q.T){var W={sa:{rb:1}},aa=function(a){var c=
l(a,L(),.2);if(!c)return!0;p.uniform1f(a.b.a.offset,.5*a.L);p.uniform2f(a.b.a.Cb,c,a.style.ib*c);p.uniform1f(a.b.a.aa,a.J);a.b.a.jb&&p.uniform1f(a.b.a.jb,.5*t.size*a.J);a.b.a.size&&(c=2.5*a.L,a.b.a.size&&p.uniform2f(a.b.a.size,c/a.width,c/a.height));p.uniform2f(a.b.a.screen,a.width,a.height);p.uniform1f(a.b.a.H,a.H);g.Z(p,a.b.a.color,a.style.color)};F.add("lineArrows",new d(p,q,"arrow","attribute vec2 position;,attribute vec2 direction;,attribute vec2 textureCoord;,attribute float offsetMul;,uniform float offset;,uniform vec2 arrowsize;,uniform vec2 size;,uniform vec2 screen;,uniform float exc;,uniform float aspect2;,uniform mat4 transform;,varying vec2 tc;".split(",").concat(A).concat(["void main(void) {",
"   vec2 u = direction / length(screen * direction);","   vec2 v = vec2(u.y, -aspect2 * u.x);","   v = v / length(screen * v);","   gl_Position = getShiftCurve() + getShiftCircle()  + vec4(arrowsize.x * (0.5 - textureCoord.x) * v - arrowsize.y * textureCoord.y * u - offset * offsetMul * u, 0, 0) + transform * vec4(position, 0, 1);","   tc = textureCoord;","}"]),b,aa,W));Y.OES_standard_derivatives&&(F.add("curveArrows",new d(p,q,"arrow","attribute vec2 position;,attribute vec2 direction;,attribute vec2 textureCoord;,attribute float offsetMul;,uniform float offset;,uniform vec2 arrowsize;,uniform vec2 size;,uniform float exc;,uniform float cexc;,uniform vec2 screen;,uniform float aspect2;,uniform mat4 transform;,varying vec2 tc;".split(",").concat(A).concat(["void main(void) {",
"   vec2 u = normalize(vec2(direction.y, -aspect2 * direction.x));","   u = normalize(direction - cexc * u / length(screen * u));","   u = u / length(screen * u);","   vec2 v = vec2(u.y, -aspect2 * u.x);","   v = v / length(screen * v);","   gl_Position = getShiftCurve() + getShiftCircle() + vec4(arrowsize.x * (0.5 - textureCoord.x) * v - arrowsize.y * textureCoord.y * u - offset * offsetMul * u, 0, 0) + transform * vec4(position, 0, 1);","   tc = textureCoord;","}"]),b,aa,W)),F.add("circleArrows",
new d(p,q,"arrow","attribute vec2 position;,attribute vec2 direction;,attribute vec2 textureCoord;,attribute float offsetMul;,uniform float offset;,uniform vec2 arrowsize;,uniform vec2 size;,uniform vec2 screen;,uniform float exc;,uniform float aspect2;,uniform mat4 transform;,varying vec2 tc;".split(",").concat(A).concat(["void main(void) {","   vec2 u = direction;","   vec2 v = vec2(direction.y, -direction.x);","   gl_Position = getShiftCurve() + getShiftCircle() + vec4((arrowsize.x * (0.5 - textureCoord.x) * v - arrowsize.y * textureCoord.y * u - offset * offsetMul * u) / screen, 0, 0) + transform * vec4(position, 0, 1);",
"   tc = textureCoord;","}"]),b,aa,W)))}F.add("nodes",new d(p,c,null,["attribute vec2 position;","attribute vec2 textureCoord;","uniform vec2 size;","uniform mat4 transform;","varying vec2 tc;","void main(void) {","   gl_Position = vec4(size * (textureCoord - vec2(0.5, 0.5)), 0, 0) + transform * vec4(position, 0, 1);","   tc = textureCoord;","}"],b,function(a){var c=P(a);p.uniform2f(a.b.a.size,c/a.width,c/a.height);g.Z(p,a.b.a.color,a.style.color)}));F.add("nodesColored",new d(p,c,null,["attribute vec2 position;",
"attribute vec2 textureCoord;","attribute vec4 color;","uniform vec2 size;","uniform mat4 transform;","varying vec2 tc;","varying vec4 c;","void main(void) {","   gl_Position = vec4(size * (textureCoord - vec2(0.5, 0.5)), 0, 0) + transform * vec4(position, 0, 1);","   tc = textureCoord;","   c = color;","}"],["precision mediump float;","uniform sampler2D texture;","varying vec2 tc;","varying vec4 c;","void main(void) {","   gl_FragColor = c * texture2D(texture, vec2(tc.s, tc.t));","}"],function(a){var c=
P(a);p.uniform2f(a.b.a.size,c/a.width,c/a.height)}));c.label&&F.add("labels",new d(p,c,"label",["attribute vec2 position;","attribute vec2 relative;","attribute vec2 textureCoord;","uniform float offset;","uniform vec2 scale;","uniform mat4 transform;","varying vec2 tc;","void main(void) {","   gl_Position = vec4(scale * (relative + vec2(0, (2.0 * step(position.y, 0.5) - 1.0) * offset)), 0, 0) + transform * vec4(position, 0, 1);","   tc = textureCoord;","}"],b,function(a){if(!P(a))return!0;p.uniform1f(a.b.a.offset,
.5*a.L);p.uniform2f(a.b.a.scale,1/a.width,1/a.height);g.Z(p,a.b.a.color,a.style.color)}));if(a.sb){b=a.u;for(var ca in b)A=b[ca],A.D&&e.get(p,A.D),A.T&&A.T.D&&e.get(p,A.T.D)}}}.apply(z,t),void 0!==b&&(k.c=b))},function(k,z,x){var t;!(t=function(){k.c=function(b){this.$=1;if(3<=arguments.length)this.r=arguments[0],this.R=arguments[1],this.N=arguments[2],3<arguments.length&&(this.$=arguments[3]);else if(/^rgba\((\d+), ?(\d+), ?(\d+), ?(\d+)\)$/i.test(b)){b=/^rgba\((\d+), ?(\d+), ?(\d+), ?(\d+)\)$/i.exec(b);
var M=function(b){return parseInt(b,10)/255};this.r=M(b[1]);this.R=M(b[2]);this.N=M(b[3]);this.$=M(b[4])}else/^rgb\((\d+), ?(\d+), ?(\d+)\)$/i.test(b)?(b=/^rgb\((\d+), ?(\d+), ?(\d+)\)$/i.exec(b),M=function(b){return parseInt(b,10)/255},this.r=M(b[1]),this.R=M(b[2]),this.N=M(b[3])):/^rgb\((\d+)\%, ?(\d+)\%, ?(\d+)\%\)$/i.test(b)?(b=/^rgb\((\d+)\%, ?(\d+)\%, ?(\d+)\%\)$/i.exec(b),M=function(b){return parseInt(b,10)/100},this.r=M(b[1]),this.R=M(b[2]),this.N=M(b[3])):/^\#([0-9a-f]{6})$/i.test(b)?(b=
parseInt(b.substring(1),16),this.r=(b>>16&255)/255,this.R=(b>>8&255)/255,this.N=(b&255)/255):this.r=this.R=this.N=0}}.call(z,x,z,k),void 0!==t&&(k.c=t))},function(k,z,x){var t;!(t=function(){function b(){}b.lb=function(b){for(var g=b.getSupportedExtensions(),d={},H=1;H<arguments.length;H++){var J=arguments[H];(d[J]=0<=g.indexOf(J))&&b.getExtension(J)}return d};b.createShader=function(b,g,d){g=b.createShader(g);b.shaderSource(g,d);b.compileShader(g);return b.getShaderParameter(g,b.COMPILE_STATUS)?
g:(console.log(b.getShaderInfoLog(g)),null)};b.createTexture=function(b,g,d){function H(){B.onload=null;b.bindTexture(b.TEXTURE_2D,J);b.pixelStorei(b.UNPACK_FLIP_Y_WEBGL,!0);b.texImage2D(b.TEXTURE_2D,0,b.RGBA,b.RGBA,b.UNSIGNED_BYTE,B);b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MAG_FILTER,b.LINEAR);b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MIN_FILTER,b.LINEAR);b.bindTexture(b.TEXTURE_2D,null);d&&d()}var J=b.createTexture(),B=new Image;B.onload=H;B.src=g;B.naturalWidth&&B.naturalHeight&&H();return J};b.Z=
function(b,g,d){b.uniform4f(g,d.r,d.R,d.N,d.$)};b.tb=function(b,g,d,H){var J=1/(b-g),B=1/(d-H),r=new Float32Array(16);r[0]=-2*J;r[1]=0;r[2]=0;r[3]=0;r[4]=0;r[5]=-2*B;r[6]=0;r[7]=0;r[8]=0;r[9]=0;r[10]=-1;r[11]=0;r[12]=(b+g)*J;r[13]=(H+d)*B;r[14]=-0;r[15]=1;return r};k.c=b}.call(z,x,z,k),void 0!==t&&(k.c=t))},function(k,z,x){var t,b;!(t=[x(6),x(3)],b=function(b,g){function d(H,J,B,r,k,E,t){function p(a,c){P=A=0;var b=Math.floor(d.h/a.s),b=Math.min(b,c-(C-L)*b),u=b*a.M;if(!l.o||l.o.length!==u){l.o=new Uint16Array(u);
var b=b*a.s,f;for(f in e.attributes)l[f]=new Float32Array(e.attributes[f].size*b)}}var e=new b(H,r.join("\n"),k.join("\n"),t),a=[],c=[],q={},l={},P,A,L=0,C=0;this.set=function(b,w,G,u,f){function K(a){function c(a){if(a)for(var u in a)f[u]=a[u]}var f={};c(J);c(a);B&&(c(J[B]),a&&c(a[B]));f.color=f.color&&new g(f.color);return f}function D(c){var f=a[C];if(!f){a[C]=f={};for(var u in l)f[u]=b.createBuffer()}for(u in e.attributes)b.bindBuffer(b.ARRAY_BUFFER,f[u]),b.bufferData(b.ARRAY_BUFFER,l[u],b.STATIC_DRAW);
b.bindBuffer(b.ELEMENT_ARRAY_BUFFER,f.o);b.bufferData(b.ELEMENT_ARRAY_BUFFER,l.o,b.STATIC_DRAW);f.M=A;f.s=P;c.ea.push(f);C++}for(var y={},v={},O=0;O<u.length;O++){var m=u[O],N=y[m.style]=y[m.style]||[];m.Lb=v[m.style]=void 0===v[m.style]?0:v[m.style]+1;N.push(m)}C=L=0;c=[];for(var r in y){L=C;u={style:K(w[r]),ea:[],zb:r};v=f(u.style);v.s=v.s||4;v.M=v.M||6;N=y[r];p(v,N.length);m=d.h-v.s;for(O=0;O<N.length;O++,P+=v.s,A+=v.M)P>m&&(D(u),p(v,N.length)),v.set(l,N[O],P,A);D(u);O=function(){c.push(this);
q[this.zb]=this}.bind(u);"string"===typeof u.style.D?u.style.D=G.get(b,u.style.D,O):O()}};var m;this.update=function(a,w,b,u){var f=0,l=e.attributes[w].size;c.forEach(function(c){var y=u(c.style);y.s=y.s||4;c.ea.forEach(function(c){m&&m.length===l*c.s||(m=new Float32Array(l*c.s));for(var u=0;u<c.s;u+=y.s)y.set(m,b[f++],u);a.bindBuffer(a.ARRAY_BUFFER,c[w]);a.bufferData(a.ARRAY_BUFFER,m,a.DYNAMIC_DRAW)})})};this.oa=function(a,c,b,u){var f=q[c.style];u=u(f.style);u.s=u.s||4;u.M=u.M||6;f=f.ea[Math.floor(b/
Math.floor(d.h/u.s))];C=L=0;p(u,1);u.set(l,c,0,0);for(var K in e.attributes)a.bindBuffer(a.ARRAY_BUFFER,f[K]),a.bufferSubData(a.ARRAY_BUFFER,e.attributes[K].size*u.s*l[K].BYTES_PER_ELEMENT*b,l[K]);a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,f.o);a.bufferSubData(a.ELEMENT_ARRAY_BUFFER,b*u.M*l.o.BYTES_PER_ELEMENT,l.o)};this.I=function(a){a.b=e;e.bind();H.uniformMatrix4fv(e.a.transform,!1,a.transform);c.forEach(function(c){c.style.D&&(H.activeTexture(H.TEXTURE0),H.bindTexture(H.TEXTURE_2D,c.style.D),H.uniform1i(e.a.D,
0));a.style=c.style;E(a)||c.ea.forEach(function(a){H.bindBuffer(H.ELEMENT_ARRAY_BUFFER,a.o);for(var c in e.attributes){var f=e.attributes[c];H.bindBuffer(H.ARRAY_BUFFER,a[c]);H.vertexAttribPointer(f.index,f.size,H.FLOAT,!1,0,0)}H.drawElements(H.TRIANGLES,a.M,H.UNSIGNED_SHORT,0)})});e.Ab()}}d.i=function(b,d){for(var g=2,r=2*d,M=arguments.length;g<M;g++,r++)b[r]=arguments[g]};d.yb=function(b,d){for(var g=2,r=1*d,M=arguments.length;g<M;g++,r++)b[r]=arguments[g]};d.La=function(b,d){for(var g=2,r=4*d,
M=arguments.length;g<M;g++){var E=arguments[g];b[r++]=E.r;b[r++]=E.R;b[r++]=E.N;b[r++]=E.$}};d.o=function(b,d,g){for(var r=3,M=g,E=arguments.length;r<E;r++,M++)b[M]=d+arguments[r]};d.ca=function(b,g,M){d.o(b,g,M,0,1,2,2,3,0)};d.h=65536;k.c=d}.apply(z,t),void 0!==b&&(k.c=b))},function(k,z,x){var t,b;!(t=[x(4)],b=function(b){function g(d,H,J,B){var r=d.createProgram();d.attachShader(r,b.createShader(d,d.VERTEX_SHADER,H));d.attachShader(r,b.createShader(d,d.FRAGMENT_SHADER,J));d.linkProgram(r);this.a=
{};var k=d.getProgramParameter(r,d.ACTIVE_UNIFORMS);for(H=0;H<k;H++)J=d.getActiveUniform(r,H).name,this.a[J]=d.getUniformLocation(r,J);B=(B||{}).sa||{};this.attributes={};k=d.getProgramParameter(r,d.ACTIVE_ATTRIBUTES);for(H=0;H<k;H++)J=d.getActiveAttrib(r,H).name,this.attributes[J]={index:H,size:B[J]||g.sa[J]||2};this.bind=function(){d.useProgram(r);for(var b=0;b<k;b++)d.enableVertexAttribArray(b)};this.Ab=function(){for(var b=0;b<k;b++)d.disableVertexAttribArray(b)}}g.sa={color:4};k.c=g}.apply(z,
t),void 0!==b&&(k.c=b))},function(k,z,x){var t,b;!(t=[x(8),x(10)],b=function(b,g){function d(){}d.h=b;d.random=g;d.normalize=function(b,d){var g,r,M=b.length;if(d)g=d.nb,r=d.ob;else{var k=-Infinity,t=-Infinity;g=r=Infinity;for(var p=0;p<M;p++){var e=b[p],k=Math.max(k,e.x),t=Math.max(t,e.y);g=Math.min(g,e.x);r=Math.min(r,e.y)}d={Ta:k,Ua:t,nb:g,ob:r}}k=g!==d.Ta?1/(d.Ta-g):(g-=.5,1);t=r!==d.Ua?1/(d.Ua-r):(r-=.5,1);for(p=0;p<M;p++)e=b[p],e.x=k*(e.x-g),e.y=t*(e.y-r);return d};k.c=d}.apply(z,t),void 0!==
b&&(k.c=b))},function(k,z,x){var t,b;!(t=[x(9)],b=function(b){k.c=function(g,d){function k(b,a,c){var d=0,l=0;b.G=0;if(!b.j)for(var g=b.f,A,p=g.length,C=0;C<p;C++)A=g[C],null!=A&&(k(A,a,c),b.G+=A.G,d+=A.G*A.O,l+=A.G*A.P);b.A&&(b.j||(b.A.x+=Math.random()-.5,b.A.y+=Math.random()-.5),a*=c[b.A.index],b.G+=b.ub=a,d+=a*b.A.x,l+=a*b.A.y);b.O=d/b.G;b.P=l/b.G}function t(b){return function(a,c,d,l){if(a.A!==b){d=a.O-b.x;var g=a.P-b.y;c=l-c;l=d*d+g*g;if(c*c/.64<l)return Infinity>l&&(c=a.G/l,b.W-=d*c,b.X-=g*
c),!0;a.A&&l&&Infinity>l&&(c=a.ub/l,b.W-=d*c,b.X-=g*c)}return!a.G}}function B(){if(.05>(x*=.99))return x=0,!0;for(var e,a,c,q,l,P=g.length,A=d.length,L=0;L<A;L++)if(a=d[L],e=a.source,a=a.target,q=a.x-e.x,l=a.y-e.y,c=q*q+l*l)c=x*z[L]*((c=Math.sqrt(c))-E[L])/c,q*=c,l*=c,a.x-=q*(c=e.weight/(a.weight+e.weight)),a.y-=l*c,e.x+=q*(c=1-c),e.y+=l*c;if(c=.4*x)for(q=r[0]/2,l=r[1]/2,L=0;L<P;L++)a=g[L],a.x+=(q-a.x)*c,a.y+=(l-a.y)*c;k(e=b(g),x,p);for(L=0;L<P;L++)a=g[L],!a.fixed&&e.Bb(t(a));for(L=0;L<P;L++)a=g[L],
a.fixed?(a.x=a.W,a.y=a.X):(a.x-=.9*(a.W-(a.W=a.x)),a.y-=.9*(a.X-(a.X=a.y)))}var r=[1,1],x,E=[],z=[],p=[];this.apply=function(){for(var b=g.length,a=Math.sqrt(b),c=.3/a,q=0;q<b;q++){var l=g[q];l.weight=0;l.x=void 0!==l.x?l.x:c+q%a/a;l.y=void 0!==l.y?l.y:c+Math.floor(q/a)/a;l.W=l.x;l.X=l.y;p[q]=-30}for(q=0;q<d.length;q++)l=d[q],l.source.weight++,l.target.weight++,E[q]=15,z[q]=1;for(x=.1;!B(););return!0}}}.apply(z,t),void 0!==b&&(k.c=b))},function(k,z,x){var t;!(t=function(){k.c=function(b){function k(){return{j:!0,
f:[],A:null,x:null,y:null}}function g(a,c,b,d,e,m){if(!a(c,b,d,e,m)){var q=.5*(b+e),w=.5*(d+m);c=c.f;c[0]&&g(a,c[0],b,d,q,w);c[1]&&g(a,c[1],q,d,e,w);c[2]&&g(a,c[2],b,w,q,m);c[3]&&g(a,c[3],q,w,e,m)}}function d(a,c,b,d,g,e,q,w){if(a.j){var G=a.x,u=a.y;if(null!==G){if(G!==b||u!==d){var f=a.A;a.x=a.y=a.A=null;t(a,f,G,u,g,e,q,w)}t(a,c,b,d,g,e,q,w)}else a.x=b,a.y=d,a.A=c}else t(a,c,b,d,g,e,q,w)}function t(a,c,b,g,e,q,p,w){var G=.5*(e+p),u=.5*(q+w),f=b>=G,K=g>=u,D=K<<1|f;a.j=!1;a=a.f[D]||(a.f[D]=k());f?
e=G:p=G;K?q=u:w=u;d(a,c,b,g,e,q,p,w)}function x(a,c,b,d,g,e,q){var w=Infinity,G;(function f(a,D,y,v,l){if(!(D>e||y>q||v<d||l<g)){if(p=a.A){var p,N=c-a.x,r=b-a.y,N=N*N+r*r;N<w&&(N=Math.sqrt(w=N),d=c-N,g=b-N,e=c+N,q=b+N,G=p)}p=a.f;for(var N=.5*(D+v),r=.5*(y+l),k=(b>=r)<<1|c>=N,t=k+4;k<t;++k)if(a=p[k&3])switch(k&3){case 0:f(a,D,y,N,r);break;case 1:f(a,N,y,v,r);break;case 2:f(a,D,r,N,l);break;case 3:f(a,N,r,v,l)}}})(a,d,g,e,q);return G}var B,r,z,E,R,p,e,a,c;a=c=-(p=e=Infinity);r=[];z=[];R=b.length;for(E=
0;E<R;++E)B=b[E],B.x<p&&(p=B.x),B.y<e&&(e=B.y),B.x>a&&(a=B.x),B.y>c&&(c=B.y),r.push(B.x),z.push(B.y);B=a-p;E=c-e;B>E?c=e+B:a=p+E;var q=k();q.Bb=function(b){g(b,q,p,e,a,c)};q.find=function(b,d){return x(q,b,d,p,e,a,c)};for(E=0;E<R;E++)d(q,b[E],r[E],z[E],p,e,a,c);--E;r=z=b=B=null;return q}}.call(z,x,z,k),void 0!==t&&(k.c=t))},function(k,z,x){var t;!(t=function(){k.c=function(b){this.apply=function(){for(var k=0,g=b.length;k<g;k++){var d=b[k];d.x=Math.random();d.y=Math.random()}}}}.call(z,x,z,k),void 0!==
t&&(k.c=t))},function(k,z,x){var t;!(t=function(){function b(){}b.w=function(k){if(k.source.source){var g=b.w(k.source),d=b.C(k.source);return{x:(g.x+d.x)/2,y:(g.y+d.y)/2,g:k.g,index:k.index,Qa:!0,e:k.source}}return k.source};b.C=function(k){if(k.target.source){var g=b.w(k.target),d=b.C(k.target);return{x:(g.x+d.x)/2,y:(g.y+d.y)/2,g:k.g,index:k.index,Qa:!0,e:k.target}}return k.target};b.ja=function(k,g){g=g||{};g.x=g.y=g.O=g.P=0;if(k&&k.t&&1<=k.t)if(2<=k.t)g.O=1.25*(.5>b.w(k).y?1:-1),g.P=0;else{var d=
b.w(k),t=b.C(k);g.x=d.x-t.x;g.y=d.y-t.y}};k.c=b}.call(z,x,z,k),void 0!==t&&(k.c=t))},function(k,z,x){var t;!(t=function(){k.c=function(b){var k=this,g=document.createElement("canvas");g.width=g.height=1024;g.style.width=g.style.height="1024px";g.style.display="none";document.body.appendChild(g);var d=g.getContext("2d");d.fillStyle="white";d.textAlign="left";d.textBaseline="top";var t,x,B,r,z;this.D=b.createTexture();this.clear=function(){t={};d.clearRect(0,0,1024,1024);z=B=r=0};this.xb=function(b){t[b]=
x=t[b]||{};d.font=b;B=0;r+=z;z=+/(\d+)px/.exec(b)[1]+1};this.get=function(b){var g=x[b];if(!g){var k=d.measureText(b).width;1024<B+k&&(B=0,r+=z);d.fillText(b,B,r);x[b]=g={width:k,height:z,left:B/1024,right:(B+k)/1024,top:r/1024,bottom:(r+z)/1024};B+=k}return g};this.bind=function(){b.bindTexture(b.TEXTURE_2D,k.D);b.pixelStorei(b.UNPACK_FLIP_Y_WEBGL,!1);b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MAG_FILTER,b.NEAREST);b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MIN_FILTER,b.NEAREST);b.texImage2D(b.TEXTURE_2D,
0,b.RGBA,b.RGBA,b.UNSIGNED_BYTE,g);b.bindTexture(b.TEXTURE_2D,null)}}}.call(z,x,z,k),void 0!==t&&(k.c=t))},function(k,z,x){var t,b;!(t=[x(14),x(11)],b=function(b,g){function d(a,c,u,f,d,D){this.normalize=D;this.U=b();this.h={f:[],ma:[],fa:[],ia:[]};var y,v=[];v.length=c.length;for(y=0;y<c.length;y++){var l=new r(c[y]);v[y]=l.S(a,1);this.h.f.push(l);v[y].push(l)}v.length+=u.length;for(c=0;c<u.length;y++,c++)l=new B(u[c]),v[y]=l.S(a,1),this.h.ma.push(l),v[y].push(l);v.length+=d.length;for(c=0;c<d.length;y++,
c++)l=new x(d[c]),v[y]=l.S(a,1),this.h.fa.push(l),v[y].push(l);v.length+=f.length;for(c=0;c<f.length;y++,c++)l=new t(f[c]),v[y]=l.S(a,1,D),this.h.ia.push(l),v[y].push(l);this.U.load(v)}function t(a){this.la=!0;this.e=a}function x(a){this.la=!0;this.e=a}function B(a){this.la=!0;this.e=a}function r(a){this.Pa=!0;this.e=a}function z(a){var c=Math.pow(Math.abs(a),1/3);return 0>a?-c:c}function E(a,c,b,f,d,l,y,v){var g;g=4*b*b-16*b*d+8*b*y+16*d*d-16*d*y+4*y*y+4*f*f-16*f*l+8*f*v+16*l*l-16*l*v+4*v*v;var e=
-12*b*b+36*b*d-12*b*y-24*d*d+12*d*y-12*f*f+36*f*l-12*f*v-24*l*l+12*l*v,q=12*b*b-24*b*d+4*b*y-4*b*a+8*d*d+8*d*a-4*y*a+12*f*f-24*f*l+4*f*v-4*f*c+8*l*l+8*l*c-4*v*c,k=-4*b*b+4*b*d+4*b*a-4*d*a-4*f*f+4*f*l+4*f*c-4*l*c;if(1E-8>Math.abs(g))g=e,e=q,q=k,1E-8>Math.abs(g)?(g=e,g=1E-8>Math.abs(g)?[]:[-q/g]):(q=e*e-4*g*q,g=1E-8>Math.abs(q)?[-e/(2*g)]:0<q?[(-e+Math.sqrt(q))/(2*g),(-e-Math.sqrt(q))/(2*g)]:[]);else{var m=(3*g*q-e*e)/(3*g*g),k=(2*e*e*e-9*g*e*q+27*g*g*k)/(27*g*g*g);1E-8>Math.abs(m)?m=[z(-k)]:1E-8>Math.abs(k)?
m=[0].concat(0>m?[Math.sqrt(-m),-Math.sqrt(-m)]:[]):(q=k*k/4+m*m*m/27,1E-8>Math.abs(q)?m=[-1.5*k/m,3*k/m]:0<q?(q=z(-k/2-Math.sqrt(q)),m=[q-m/(3*q)]):(q=2*Math.sqrt(-m/3),m=Math.acos(3*k/m/q)/3,k=2*Math.PI/3,m=[q*Math.cos(m),q*Math.cos(m-k),q*Math.cos(m-2*k)]));for(q=0;q<m.length;q++)m[q]-=e/(3*g);g=m}e=Infinity;for(m=0;m<g.length;m++)q=g[m],0>q||1<q||(q=p(a,c,b*(1-q)*(1-q)+2*d*q*(1-q)+y*q*q,f*(1-q)*(1-q)+2*l*q*(1-q)+v*q*q),q<e&&(e=q));return e}function R(a){for(var c=Infinity,b=-c,f=Infinity,d=-f,
l=0;l<a.length;l+=2){var q=a[l];q<c&&(c=q);q>b&&(b=q)}for(l=1;l<a.length;l+=2)q=a[l],q<f&&(f=q),q>d&&(d=q);return[c,f,b,d]}function p(a,c,b,f){a-=b;c-=f;return a*a+c*c}function e(a,c,b,f,d,l,q,g){var e=(b-a)*(g-l)-(f-c)*(q-d);if(0==e)return!1;q=((c-l)*(q-d)-(a-d)*(g-l))/e;a=((c-l)*(b-a)-(a-d)*(f-c))/e;return 0>q||1<q||0>a||1<a?!1:!0}function a(a,c,b,f,d,l){return a>=b-C&&a<=d+C&&c>=f-C&&c<=l+C}function c(a,c){return a>=c-C&&a<=c+C}function q(a,b,u,f,d,l){return 0>f||1<f||!c(l-d,0)&&(a=(a*(1-f)*(1-
f)+2*b*f*(1-f)+u*f*f)/(l-d),0>a||1<a)?!1:!0}function l(a,b,d,f,l,g,e,v,m,k){var p,A=-a*v+a*k+2*d*v-2*d*k-l*v+l*k+b*e-b*m-2*f*e+2*f*m+g*e-g*m;if(!c(A,0)&&!c(e-m,0)){p=2*a*v-2*a*k-2*d*v+2*d*k-2*b*m+2*f*e-2*f*m;var C=p*p-4*(-a*v+a*k+b*e-b*m-e*k+m*v)*(-a*v+a*k+2*d*v-2*d*k-l*v+l*k+b*e-b*m-2*f*e+2*f*m+g*e-g*m);if(0<=C){var r=a*v-a*k-d*v+d*k-b*e+b*m+f*e-f*m;p=(r-.5*Math.sqrt(C))/A;if(q(b,f,g,e,m,p))return!0;p=(r+.5*Math.sqrt(C))/A;if(q(b,f,g,e,m,p))return!0}}A=-d*v+d*k+l*v-l*k+f*e-f*m-g*e+g*m;return c(b,
2*f-g)&&c(a,2*d-l)&&!c(A,0)&&!c(e*v-e*k-m*v+m*k,0)&&q(b,f,g,e,m,(-2*d*v+2*d*k+l*v-l*k+2*f*e-2*f*m-g*e+g*m-e*k+m*v)/(2*A))?!0:c(v,k)&&c(b,2*f-g)&&!c(f-g,0)&&!c(e-m,0)&&q(b,f,g,e,m,(2*f-g-k)/(2*(f-g)))||c(a,(2*d*v-2*d*k-l*v+l*k+b*e-b*m-2*f*e+2*f*m+g*e-g*m)/(v-k))&&!c(d*b*v-d*b*k-2*d*f*v+2*d*f*k+d*g*v-d*g*k-l*b*v+l*b*k+2*l*f*v-2*l*f*k-l*g*v+l*g*k-b*f*e+b*f*m+b*g*e-b*g*m+2*f*f*e-2*f*f*m-3*f*g*e+3*f*g*m+g*g*e-g*g*m,0)&&!c(e-m,0)&&q(b,f,g,e,m,(2*d*v-2*d*k-l*v+l*k-2*f*e+2*f*m+g*e-g*m+e*k-m*v)/(2*(d*v-d*
k-l*v+l*k-f*e+f*m+g*e-g*m)))?!0:!1}function P(c,b,d,f,g,e,q,m,k,p){if(a(c,b,q,m,k,p)||a(g,e,q,m,k,p))return!0;var A=q-k,C=m-p,r=A*A+C*C,t=E((q+k)/2,(m+p)/2,c,b,d,f,g,e);return 4*t>r?!1:4*t<=Math.min(A*A,C*C)?!0:l(c,b,d,f,g,e,m,k,m,m)||l(c,b,d,f,g,e,k,m,k,p)||l(c,b,d,f,g,e,k,p,q,p)||l(c,b,d,f,g,e,q,p,q,m)}function A(a,b,d,f){g.ja(d,f);var l;d=-f.y;l=f.x*a.H;var e=d*a.width*d*a.width+l*a.height*l*a.height;c(e,0)?l=d=0:(e=Math.sqrt(e),d*=.25*a.J*b/e,l*=.25*a.J*b/e);e=2.5*a.L*b/a.height;a=2.5*a.L*b/a.width*
-f.P*.5;b=.5*f.O*e;f.x=d+a;f.y=l+b}function L(a,c){return a.B-c.B}var C=Number.EPSILON||1E-14,m={};r.prototype.S=function(){return[this.e.x-C,this.e.y-C,this.e.x+C,this.e.y+C]};r.prototype.ka=function(c,b,d,f){return a(this.e.x,this.e.y,c,b,d,f)};r.prototype.B=function(a,c){return p(a,c,this.e.x,this.e.y)};B.prototype.h=function(a,c){var b,f,d,l,e=g.w(this.e),q=g.C(this.e);b=e.x;f=e.y;d=q.x;l=q.y;A(a,c,e.e,m);b+=m.x;f+=m.y;A(a,c,q.e,m);d+=m.x;l+=m.y;return[b,f,d,l]};B.prototype.S=function(a,c){var b=
this.h(a,c);return[Math.min(b[0],b[2]),Math.min(b[1],b[3]),Math.max(b[0],b[2]),Math.max(b[1],b[3])]};B.prototype.ka=function(c,b,d,f,l,g){var q=this.h(l,g);l=q[0];g=q[1];var m=q[2],q=q[3];return a(l,g,c,b,d,f)||a(m,q,c,b,d,f)?!0:e(l,g,m,q,c,b,d,b)||e(l,g,m,q,d,b,d,f)||e(l,g,m,q,d,f,c,f)||e(l,g,m,q,c,f,c,b)};B.prototype.B=function(a,c,b,f){var d=this.h(b,f);f=d[0];b=d[1];var l=d[2],d=d[3],g=l-f,e=d-b,q=g*g+e*e,m=-1;0!=q&&(m=((a-f)*g+(c-b)*e)/q);0>m||(1<m?(f=l,b=d):(f+=m*g,b+=m*e));return p(a,c,f,b)};
x.prototype.h=function(a,c){var b,f,d;d=g.w(this.e);b=d.x;f=d.y;var l=2.5*a.L*c,e=l/a.width/2,l=l/a.height/2,q=.5>d.y?1:-1;A(a,c,d.e,m);b+=m.x;f+=m.y;return[b,f,b+1*e,f+l*q,b,f+1.25*l*q,b-1*e,f+l*q]};x.prototype.S=function(a,c){var b=this.h(a,c);return R(b)};x.prototype.ka=function(a,c,b,f,d,l){d=this.h(d,l);return P(d[0],d[1],d[2],d[3],d[4],d[5],a,c,b,f)||P(d[2],d[3],d[4],d[5],d[6],d[7],a,c,b,f)};x.prototype.B=function(a,c,b,f){f=this.h(b,f);b=E(a,c,f[0],f[1],f[2],f[3],f[4],f[5]);a=E(a,c,f[2],f[3],
f[4],f[5],f[6],f[7]);return Math.min(b,a)};t.prototype.h=function(a,c,b){var f,d,l,e,q=g.w(this.e),k=g.C(this.e);f=q.x;l=q.y;d=k.x;e=k.y;var p=b(q,k);b=p.y;var p=a.H*-p.x,C=a.width*b,r=a.height*p,C=2*Math.sqrt(C*C+r*r);b*=a.J*c/C;p*=a.J*c/C;A(a,c,q.e,m);f+=m.x;l+=m.y;A(a,c,k.e,m);d+=m.x;e+=m.y;return[f,l,(f+d)/2+b,(l+e)/2+p,d,e]};t.prototype.ka=function(a,c,b,d,l,e,q){l=this.h(l,e,q);return P(l[0],l[1],l[2],l[3],l[4],l[5],a,c,b,d)};t.prototype.S=function(a,c,b){a=this.h(a,c,b);return R(a)};t.prototype.B=
function(a,c,b,d,l){b=this.h(b,d,l);return E(a,c,b[0],b[1],b[2],b[3],b[4],b[5])};var Q={f:r,ma:B,fa:x,ia:t};d.prototype.za=function(a,c,b,d,l,e,q,g){if(c>d){var m=c;c=d;d=m}b>l&&(m=b,b=l,l=m);m={};g&&(m.m=[]);q&&(m.f=[]);m.f&&m.f.sort(L);m.m&&m.m.sort(L);for(var k=(c+d)/2,p=(b+l)/2,A=this.U.search([c-C,b-C,d+C,l+C]),r=0;r<A.length;r++){var t=A[r][4],x=t.B(k,p,a,e,this.normalize);t.ka(c,b,d,l,a,e,this.normalize)&&(t.Pa&&q&&m.f.push({node:t.e,xa:Math.sqrt(x),B:x}),t.la&&g&&m.m.push({ya:t.e,xa:Math.sqrt(x),
B:x}))}return m};d.prototype.find=function(a,c,b,d,l,e,q){var g={};q&&(g.m=[]);e&&(g.f=[]);var m=d*d;d=this.U.search([c-d,b-d,c+d,b+d]);for(var k=0;k<d.length;k++){var p=d[k][4],A=p.B(c,b,a,l,this.normalize);A>m||(p.Pa&&e&&g.f.push({node:p.e,xa:Math.sqrt(A),B:A}),p.la&&q&&g.m.push({ya:p.e,xa:Math.sqrt(A),B:A}))}g.f&&g.f.sort(L);g.m&&g.m.sort(L);return g};d.prototype.update=function(a,c,b,d){this.U.remove(this.h[c][b]);d=new Q[c](d);a=d.S(a,1,this.normalize);a.push(d);this.U.Oa(this.h[c][b]=a)};k.c=
d}.apply(z,t),void 0!==b&&(k.c=b))},function(k,z,x){var t;(function(){function b(a,c){if(!(this instanceof b))return new b(a,c);this.pa=Math.max(4,a||9);this.Ha=Math.max(2,Math.ceil(.4*this.pa));c&&this.gb(c);this.clear()}function M(a,c){a.l=g(a,0,a.children.length,c)}function g(a,c,b,l){for(var g=[Infinity,Infinity,-Infinity,-Infinity],e;c<b;c++)e=a.children[c],d(g,a.j?l(e):e.l);return g}function d(a,c){a[0]=Math.min(a[0],c[0]);a[1]=Math.min(a[1],c[1]);a[2]=Math.max(a[2],c[2]);a[3]=Math.max(a[3],
c[3])}function H(a,c){return a.l[0]-c.l[0]}function J(a,c){return a.l[1]-c.l[1]}function B(a){return(a[2]-a[0])*(a[3]-a[1])}function r(a){return a[2]-a[0]+(a[3]-a[1])}function T(a,c){return a[0]<=c[0]&&a[1]<=c[1]&&c[2]<=a[2]&&c[3]<=a[3]}function E(a,c){return c[0]<=a[2]&&c[1]<=a[3]&&c[2]>=a[0]&&c[3]>=a[1]}function R(a,c,b,d,g){for(var e=[c,b],k;e.length;)b=e.pop(),c=e.pop(),b-c<=d||(k=c+Math.ceil((b-c)/d/2)*d,p(a,c,b,k,g),e.push(c,k,k,b))}function p(a,c,b,d,g){for(var k,r,C,m,t;b>c;){600<b-c&&(k=
b-c+1,r=d-c+1,C=Math.log(k),m=.5*Math.exp(2*C/3),t=.5*Math.sqrt(C*m*(k-m)/k)*(0>r-k/2?-1:1),C=Math.max(c,Math.floor(d-r*m/k+t)),r=Math.min(b,Math.floor(d+(k-r)*m/k+t)),p(a,C,r,d,g));k=a[d];r=c;m=b;e(a,c,d);for(0<g(a[b],k)&&e(a,c,b);r<m;){e(a,r,m);r++;for(m--;0>g(a[r],k);)r++;for(;0<g(a[m],k);)m--}0===g(a[c],k)?e(a,c,m):(m++,e(a,m,b));m<=d&&(c=m+1);d<=m&&(b=m-1)}}function e(a,c,b){var d=a[c];a[c]=a[b];a[b]=d}b.prototype={search:function(a){var c=this.data,b=[],d=this.F;if(!E(a,c.l))return b;for(var g=
[],e,k,p,m;c;){e=0;for(k=c.children.length;e<k;e++)p=c.children[e],m=c.j?d(p):p.l,E(a,m)&&(c.j?b.push(p):T(a,m)?this.ab(p,b):g.push(p));c=g.pop()}return b},load:function(a){if(!a||!a.length)return this;if(a.length<this.Ha){for(var c=0,b=a.length;c<b;c++)this.Oa(a[c]);return this}a=this.Fa(a.slice(),0,a.length-1,0);this.data.children.length?this.data.height===a.height?this.Ia(this.data,a):(this.data.height<a.height&&(c=this.data,this.data=a,a=c),this.Ga(a,this.data.height-a.height-1,!0)):this.data=
a;return this},Oa:function(a){a&&this.Ga(a,this.data.height-1);return this},clear:function(){this.data={children:[],height:1,l:[Infinity,Infinity,-Infinity,-Infinity],j:!0};return this},remove:function(a){if(!a)return this;for(var c=this.data,b=this.F(a),d=[],g=[],e,k,p,m;c||d.length;){c||(c=d.pop(),k=d[d.length-1],e=g.pop(),m=!0);if(c.j&&(p=c.children.indexOf(a),-1!==p)){c.children.splice(p,1);d.push(c);this.fb(d);break}m||c.j||!T(c.l,b)?k?(e++,c=k.children[e],m=!1):c=null:(d.push(c),g.push(e),e=
0,k=c,c=c.children[0])}return this},F:function(a){return a},ua:function(a,c){return a[0]-c[0]},va:function(a,c){return a[1]-c[1]},toJSON:function(){return this.data},ab:function(a,c){for(var b=[];a;)a.j?c.push.apply(c,a.children):b.push.apply(b,a.children),a=b.pop();return c},Fa:function(a,c,b,d){var e=b-c+1,g=this.pa,k;if(e<=g)return k={children:a.slice(c,b+1),height:1,l:null,j:!0},M(k,this.F),k;d||(d=Math.ceil(Math.log(e)/Math.log(g)),g=Math.ceil(e/Math.pow(g,d-1)));k={children:[],height:d,l:null,
j:!1};var e=Math.ceil(e/g),g=e*Math.ceil(Math.sqrt(g)),p,m,r;for(R(a,c,b,g,this.ua);c<=b;c+=g)for(m=Math.min(c+g-1,b),R(a,c,m,e,this.va),p=c;p<=m;p+=e)r=Math.min(p+e-1,m),k.children.push(this.Fa(a,p,r,d-1));M(k,this.F);return k},eb:function(a,b,d,g){for(var e,k,p,r,m,t,w,x;;){g.push(b);if(b.j||g.length-1===d)break;w=x=Infinity;e=0;for(k=b.children.length;e<k;e++)p=b.children[e],m=B(p.l),t=p.l,t=(Math.max(t[2],a[2])-Math.min(t[0],a[0]))*(Math.max(t[3],a[3])-Math.min(t[1],a[1]))-m,t<x?(x=t,w=m<w?m:
w,r=p):t===x&&m<w&&(w=m,r=p);b=r||b.children[0]}return b},Ga:function(a,b,e){var g=this.F;e=e?a.l:g(a);var g=[],k=this.eb(e,this.data,b,g);k.children.push(a);for(d(k.l,e);0<=b;)if(g[b].children.length>this.pa)this.hb(g,b),b--;else break;this.$a(e,g,b)},hb:function(a,b){var d=a[b],e=d.children.length,g=this.Ha;this.bb(d,g,e);e=this.cb(d,g,e);e={children:d.children.splice(e,d.children.length-e),height:d.height,l:null,j:!1};d.j&&(e.j=!0);M(d,this.F);M(e,this.F);b?a[b-1].children.push(e):this.Ia(d,e)},
Ia:function(a,b){this.data={children:[a,b],height:a.height+1,l:null,j:!1};M(this.data,this.F)},cb:function(a,b,d){var e,k,p,r,t,m,x;t=m=Infinity;for(e=b;e<=d-b;e++)k=g(a,0,e,this.F),p=g(a,e,d,this.F),r=Math.max(0,Math.min(k[2],p[2])-Math.max(k[0],p[0]))*Math.max(0,Math.min(k[3],p[3])-Math.max(k[1],p[1])),k=B(k)+B(p),r<t?(t=r,x=e,m=k<m?k:m):r===t&&k<m&&(m=k,x=e);return x},bb:function(a,b,d){var e=a.j?this.ua:H,g=a.j?this.va:J,k=this.Ea(a,b,d,e);b=this.Ea(a,b,d,g);k<b&&a.children.sort(e)},Ea:function(a,
b,e,k){a.children.sort(k);k=this.F;var p=g(a,0,b,k),t=g(a,e-b,e,k),x=r(p)+r(t),C,m;for(C=b;C<e-b;C++)m=a.children[C],d(p,a.j?k(m):m.l),x+=r(p);for(C=e-b-1;C>=b;C--)m=a.children[C],d(t,a.j?k(m):m.l),x+=r(t);return x},$a:function(a,b,e){for(;0<=e;e--)d(b[e].l,a)},fb:function(a){for(var b=a.length-1,d;0<=b;b--)0===a[b].children.length?0<b?(d=a[b-1].children,d.splice(d.indexOf(a[b]),1)):this.clear():M(a[b],this.F)},gb:function(a){var b=["return a"," - b",";"];this.ua=new Function("a","b",b.join(a[0]));
this.va=new Function("a","b",b.join(a[1]));this.F=new Function("a","return [a"+a.join(", a")+"];")}};!(t=function(){return b}.call(z,x,z,k),void 0!==t&&(k.c=t))})()},function(k,z,x){var t;!(t=function(){function b(){}b.Na=function(b){function g(){var z=Date.now-x;5>z&&0<z?d=setTimeout(g,5-z):(d=null,r=b.apply(t,k),d||(t=k=null))}var d,k,t,x,r;return function(){t=this;k=arguments;x=Date.now;d||(d=setTimeout(g,5));return r}};b.extend=function(b){for(var g=1;g<arguments.length;g++)for(var d in arguments[g])b[d]=
arguments[g][d];return b};k.c=b}.call(z,x,z,k),void 0!==t&&(k.c=t))},function(k,z,x){var t,b;!(t=[x(15),x(4)],b=function(b,g){k.c=function(d){var k=b.Na(d),t={},x={},r=0;this.get=function(b,d,z){var p=x[d],e=t[d];p?p.push(z):e?z&&z():(p=x[d]=[z],r++,t[d]=e=g.createTexture(b,d,function(){p.forEach(function(a){return a&&a()});delete x[d];--r||k()}));return e}}}.apply(z,t),void 0!==b&&(k.c=b))},function(k,z,x){var t,b;!(t=[x(11)],b=function(b){k.c=function(g,d,k,t,x,r){function z(a){a.forEach(function(a){if(void 0!==
a.g){if(void 0!==A[a.g])g.K.wb(A[a.g]),delete A[a.g];else for(var b=0;b<actualTempNodes.length;b++)if(actualTempNodes[b]===a){actualTempNodes.splice(b,1);break}a.da=a.g;delete a.g}})}function E(a){a.forEach(function(a){if(void 0!==a.g){delete (L[b.w(a).g]||{})[b.C(a).g];if(void 0!==P[a.g])g.K.vb(P[a.g]),delete P[n.g];else for(var c=0;c<actualTempEdges.length;c++)if(actualTempEdges[c]===a){actualTempEdges.splice(c,1);break}a.da=a.g;delete a.g}})}function R(){a.forEach(function(a){void 0!==P[a.g]&&
E([a]);void 0!==a.g?(console.error(a),console.error("This edge has been already added, if you want to add same edge twice, create new object with same properties")):(r(a),0<=actualTempEdges.indexOf(a)||actualTempEdges.push(a))})}function p(){c.forEach(function(a){void 0!==A[a.g]&&z([a]);void 0!==a.g?(console.error(a),console.error("This node has been already added, if you want to add same node twice, create new object with same properties")):(r(a),L[a.g]={},0<=actualTempNodes.indexOf(a)||actualTempNodes.push(a))})}
var e=this,a=[],c=[],q=[],l=[],P,A,L;this.qa=function(c){var d=b.C(c).g,g=b.w(c).g;(L[g]||{})[d]&&E([c]);if((L[d]||{})[g])return a.push(L[d][g]),E([L[d][g]]),a.push(L[g][d]=c),e;a.push(c);return e};this.ra=function(a){c.push(a);return e};this.removeNode=function(a){l.push(a);return e};this.Ca=function(a){q.push(a);return e};this.Ja=function(){if(0===q.length&&0===l.length&&0===a.length&&0===c.length)return e;actualTempNodes=g.v?g.v.f:[];actualTempEdges=g.v?g.v.m:[];E(q);z(l);p();R();a=[];c=[];q=[];
l=[];d();g.v.set(actualTempNodes,actualTempEdges);k();return e};(function(a,c){A={};P={};L={};a.forEach(function(a,b){A[a.g]=b;L[a.g]={}});c.forEach(function(a,c){L[b.w(a).g][b.C(a).g]=a;P[a.g]=c});supStructsCreated=!0})(t,x)}}.apply(z,t),void 0!==b&&(k.c=b))}]);
